import{A as xe,Ba as Q,Bc as se,G as I,Ga as ee,Ia as te,Ma as Fe,N as z,P as we,Qa as Te,Rc as De,Uc as Oe,Y as Ie,Z as Y,_ as O,a as h,b as R,da as je,f as $,ha as Ce,i as L,j as G,ja as J,l as Se,la as S,n as Ee,nb as Ae,oa as u,p as y,pa as g,q as X,qa as d,ra as Z,sa as H,tc as re,u as b,uc as q,vc as ne,za as M}from"./chunk-4BSDVLOV.js";function Me(e,t){let r=!t?.manualCleanup?t?.injector?.get(Q)??d(Q):null,s=Et(t?.equal),o;t?.requireSync?o=ee({kind:0},{equal:s}):o=ee({kind:1,value:t?.initialValue},{equal:s});let i,c=e.subscribe({next:l=>o.set({kind:1,value:l}),error:l=>{o.set({kind:2,error:l}),i?.()},complete:()=>{i?.()}});if(t?.requireSync&&o().kind===0)throw new J(601,!1);return i=r?.onDestroy(c.unsubscribe.bind(c)),q(()=>{let l=o();switch(l.kind){case 1:return l.value;case 2:throw l.error;case 0:throw new J(601,!1)}},{equal:t?.equal})}function Et(e=Object.is){return(t,n)=>t.kind===1&&n.kind===1&&e(t.value,n.value)}var ae={};function C(e,t){if(ae[e]=(ae[e]||0)+1,typeof t=="function")return oe(e,(...r)=>R(h({},t(...r)),{type:e}));switch(t?t._as:"empty"){case"empty":return oe(e,()=>({type:e}));case"props":return oe(e,r=>R(h({},r),{type:e}));default:throw new Error("Unexpected config.")}}function F(){return{_as:"props",_p:void 0}}function oe(e,t){return Object.defineProperty(t,"type",{value:e,writable:!1})}function wt(e,t){if(e==null)throw new Error(`${t} must be defined.`)}var Je="@ngrx/store/init",T=(()=>{let t=class t extends G{constructor(){super({type:Je})}next(r){if(typeof r=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof r>"u")throw new TypeError("Actions must be objects");if(typeof r.type>"u")throw new TypeError("Actions must have a type property");super.next(r)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac});let e=t;return e})(),It=[T],Ze=new u("@ngrx/store Internal Root Guard"),ke=new u("@ngrx/store Internal Initial State"),fe=new u("@ngrx/store Initial State"),He=new u("@ngrx/store Reducer Factory"),Pe=new u("@ngrx/store Internal Reducer Factory Provider"),Qe=new u("@ngrx/store Initial Reducers"),ie=new u("@ngrx/store Internal Initial Reducers"),Ue=new u("@ngrx/store Store Features"),_e=new u("@ngrx/store Internal Store Reducers"),ce=new u("@ngrx/store Internal Feature Reducers"),Ne=new u("@ngrx/store Internal Feature Configs"),et=new u("@ngrx/store Internal Store Features"),$e=new u("@ngrx/store Internal Feature Reducers Token"),tt=new u("@ngrx/store Feature Reducers"),Le=new u("@ngrx/store User Provided Meta Reducers"),V=new u("@ngrx/store Meta Reducers"),Ge=new u("@ngrx/store Internal Resolved Meta Reducers"),ze=new u("@ngrx/store User Runtime Checks Config"),qe=new u("@ngrx/store Internal User Runtime Checks Config"),k=new u("@ngrx/store Internal Runtime Checks"),he=new u("@ngrx/store Check if Action types are unique"),ue=new u("@ngrx/store Root Store Provider"),Ve=new u("@ngrx/store Feature State Provider");function me(e,t={}){let n=Object.keys(e),r={};for(let o=0;o<n.length;o++){let i=n[o];typeof e[i]=="function"&&(r[i]=e[i])}let s=Object.keys(r);return function(i,c){i=i===void 0?t:i;let l=!1,p={};for(let a=0;a<s.length;a++){let f=s[a],m=r[f],v=i[f],x=m(v,c);p[f]=x,l=l||x!==v}return l?p:i}}function jt(e,t){return Object.keys(e).filter(n=>n!==t).reduce((n,r)=>Object.assign(n,{[r]:e[r]}),{})}function rt(...e){return function(t){if(e.length===0)return t;let n=e[e.length-1];return e.slice(0,-1).reduceRight((s,o)=>o(s),n(t))}}function nt(e,t){return Array.isArray(t)&&t.length>0&&(e=rt.apply(null,[...t,e])),(n,r)=>{let s=e(n);return(o,i)=>(o=o===void 0?r:o,s(o,i))}}function Ct(e){let t=Array.isArray(e)&&e.length>0?rt(...e):n=>n;return(n,r)=>(n=t(n),(s,o)=>(s=s===void 0?r:s,n(s,o)))}var P=class extends ${},B=class extends T{},Ft="@ngrx/store/update-reducers",K=(()=>{let t=class t extends G{get currentReducers(){return this.reducers}constructor(r,s,o,i){super(i(o,s)),this.dispatcher=r,this.initialState=s,this.reducers=o,this.reducerFactory=i}addFeature(r){this.addFeatures([r])}addFeatures(r){let s=r.reduce((o,{reducers:i,reducerFactory:c,metaReducers:l,initialState:p,key:a})=>{let f=typeof i=="function"?Ct(l)(i,p):nt(c,l)(i,p);return o[a]=f,o},{});this.addReducers(s)}removeFeature(r){this.removeFeatures([r])}removeFeatures(r){this.removeReducers(r.map(s=>s.key))}addReducer(r,s){this.addReducers({[r]:s})}addReducers(r){this.reducers=h(h({},this.reducers),r),this.updateReducers(Object.keys(r))}removeReducer(r){this.removeReducers([r])}removeReducers(r){r.forEach(s=>{this.reducers=jt(this.reducers,s)}),this.updateReducers(r)}updateReducers(r){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ft,features:r})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(s){return new(s||t)(g(B),g(fe),g(Qe),g(He))},t.\u0275prov=S({token:t,factory:t.\u0275fac});let e=t;return e})(),Tt=[K,{provide:P,useExisting:K},{provide:B,useExisting:T}],ye=(()=>{let t=class t extends L{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let r;return function(o){return(r||(r=Fe(t)))(o||t)}})(),t.\u0275prov=S({token:t,factory:t.\u0275fac});let e=t;return e})(),At=[ye],W=class extends ${},Be=(()=>{let t=class t extends G{constructor(r,s,o,i){super(i);let l=r.pipe(Ee(Se)).pipe(Ce(s)),p={state:i},a=l.pipe(O(Dt,p));this.stateSubscription=a.subscribe(({state:f,action:m})=>{this.next(f),o.next(m)}),this.state=Me(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Je,t.\u0275fac=function(s){return new(s||t)(g(T),g(P),g(ye),g(fe))},t.\u0275prov=S({token:t,factory:t.\u0275fac});let e=t;return e})();function Dt(e={state:void 0},[t,n]){let{state:r}=e;return{state:n(r,t),action:t}}var Ot=[Be,{provide:W,useExisting:Be}],ge=(()=>{let t=class t extends ${constructor(r,s,o,i){super(),this.actionsObserver=s,this.reducerManager=o,this.injector=i,this.source=r,this.state=r.state}select(r,...s){return kt.call(null,r,...s)(this)}selectSignal(r,s){return q(()=>r(this.state()),s)}lift(r){let s=new t(this,this.actionsObserver,this.reducerManager);return s.operator=r,s}dispatch(r,s){if(typeof r=="function")return this.processDispatchFn(r,s);this.actionsObserver.next(r)}next(r){this.actionsObserver.next(r)}error(r){this.actionsObserver.error(r)}complete(){this.actionsObserver.complete()}addReducer(r,s){this.reducerManager.addReducer(r,s)}removeReducer(r){this.reducerManager.removeReducer(r)}processDispatchFn(r,s){wt(this.injector,"Store Injector");let o=s?.injector??Pt()??this.injector;return ne(()=>{let i=r();re(()=>this.dispatch(i))},{injector:o})}};t.\u0275fac=function(s){return new(s||t)(g(W),g(T),g(K),g(M))},t.\u0275prov=S({token:t,factory:t.\u0275fac});let e=t;return e})(),Mt=[ge];function kt(e,t,...n){return function(s){let o;if(typeof e=="string"){let i=[t,...n].filter(Boolean);o=s.pipe(Ie(e,...i))}else if(typeof e=="function")o=s.pipe(b(i=>e(i,t)));else throw new TypeError(`Unexpected type '${typeof e}' in select operator, expected 'string' or 'function'`);return o.pipe(we())}}function Pt(){try{return d(M)}catch{return}}var Re="https://ngrx.io/guide/store/configuration/runtime-checks";function Ke(e){return e===void 0}function We(e){return e===null}function st(e){return Array.isArray(e)}function Ut(e){return typeof e=="string"}function _t(e){return typeof e=="boolean"}function Nt(e){return typeof e=="number"}function ot(e){return typeof e=="object"&&e!==null}function $t(e){return ot(e)&&!st(e)}function Lt(e){if(!$t(e))return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||t===null}function le(e){return typeof e=="function"}function Gt(e){return le(e)&&e.hasOwnProperty("\u0275cmp")}function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var qt=!1;function Vt(){return qt}function Xe(e,t){return e===t}function Bt(e,t,n){for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!0;return!1}function it(e,t=Xe,n=Xe){let r=null,s=null,o;function i(){r=null,s=null}function c(a=void 0){o={result:a}}function l(){o=void 0}function p(){if(o!==void 0)return o.result;if(!r)return s=e.apply(null,arguments),r=arguments,s;if(!Bt(arguments,r,t))return s;let a=e.apply(null,arguments);return r=arguments,n(s,a)?s:(s=a,a)}return{memoized:p,reset:i,setResult:c,clearResult:l}}function E(...e){return Wt(it)(...e)}function Kt(e,t,n,r){if(n===void 0){let o=t.map(i=>i(e));return r.memoized.apply(null,o)}let s=t.map(o=>o(e,n));return r.memoized.apply(null,[...s,n])}function Wt(e,t={stateFn:Kt}){return function(...n){let r=n;if(Array.isArray(r[0])){let[a,...f]=r;r=[...a,...f]}else r.length===1&&Xt(r[0])&&(r=Yt(r[0]));let s=r.slice(0,r.length-1),o=r[r.length-1],i=s.filter(a=>a.release&&typeof a.release=="function"),c=e(function(...a){return o.apply(null,a)}),l=it(function(a,f){return t.stateFn.apply(null,[a,s,f,c])});function p(){l.reset(),c.reset(),i.forEach(a=>a.release())}return Object.assign(l.memoized,{release:p,projector:c.memoized,setResult:l.setResult,clearResult:l.clearResult})}}function ct(e){return E(t=>{let n=t[e];return!Vt()&&se()&&!(e in t)&&console.warn(`@ngrx/store: The feature name "${e}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${e}', ...) or StoreModule.forFeature('${e}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),n},t=>t)}function Xt(e){return!!e&&typeof e=="object"&&Object.values(e).every(t=>typeof t=="function")}function Yt(e){let t=Object.values(e),n=Object.keys(e),r=(...s)=>n.reduce((o,i,c)=>R(h({},o),{[i]:s[c]}),{});return[...t,r]}function Jt(e){return e instanceof u?d(e):e}function Zt(e,t){return t.map((n,r)=>{if(e[r]instanceof u){let s=d(e[r]);return{key:n.key,reducerFactory:s.reducerFactory?s.reducerFactory:me,metaReducers:s.metaReducers?s.metaReducers:[],initialState:s.initialState}}return n})}function Ht(e){return e.map(t=>t instanceof u?d(t):t)}function at(e){return typeof e=="function"?e():e}function Qt(e,t){return e.concat(t)}function er(){if(d(ge,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function tr(e,t){return function(n,r){let s=t.action(r)?de(r):r,o=e(n,s);return t.state()?de(o):o}}function de(e){Object.freeze(e);let t=le(e);return Object.getOwnPropertyNames(e).forEach(n=>{if(!n.startsWith("\u0275")&&zt(e,n)&&(!t||n!=="caller"&&n!=="callee"&&n!=="arguments")){let r=e[n];(ot(r)||le(r))&&!Object.isFrozen(r)&&de(r)}}),e}function rr(e,t){return function(n,r){if(t.action(r)){let o=pe(r);Ye(o,"action")}let s=e(n,r);if(t.state()){let o=pe(s);Ye(o,"state")}return s}}function pe(e,t=[]){return(Ke(e)||We(e))&&t.length===0?{path:["root"],value:e}:Object.keys(e).reduce((r,s)=>{if(r)return r;let o=e[s];return Gt(o)?r:Ke(o)||We(o)||Nt(o)||_t(o)||Ut(o)||st(o)?!1:Lt(o)?pe(o,[...t,s]):{path:[...t,s],value:o}},!1)}function Ye(e,t){if(e===!1)return;let n=e.path.join("."),r=new Error(`Detected unserializable ${t} at "${n}". ${Re}#strict${t}serializability`);throw r.value=e.value,r.unserializablePath=n,r}function nr(e,t){return function(n,r){if(t.action(r)&&!Ae.isInAngularZone())throw new Error(`Action '${r.type}' running outside NgZone. ${Re}#strictactionwithinngzone`);return e(n,r)}}function sr(e){return se()?h({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},e):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function or({strictActionSerializability:e,strictStateSerializability:t}){return n=>e||t?rr(n,{action:r=>e&&!ve(r),state:()=>t}):n}function ir({strictActionImmutability:e,strictStateImmutability:t}){return n=>e||t?tr(n,{action:r=>e&&!ve(r),state:()=>t}):n}function ve(e){return e.type.startsWith("@ngrx")}function cr({strictActionWithinNgZone:e}){return t=>e?nr(t,{action:n=>e&&!ve(n)}):t}function ar(e){return[{provide:qe,useValue:e},{provide:ze,useFactory:ur,deps:[qe]},{provide:k,deps:[ze],useFactory:sr},{provide:V,multi:!0,deps:[k],useFactory:ir},{provide:V,multi:!0,deps:[k],useFactory:or},{provide:V,multi:!0,deps:[k],useFactory:cr}]}function ut(){return[{provide:he,multi:!0,deps:[k],useFactory:lr}]}function ur(e){return e}function lr(e){if(!e.strictActionTypeUniqueness)return;let t=Object.entries(ae).filter(([,n])=>n>1).map(([n])=>n);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(n=>`"${n}"`).join(", ")}. ${Re}#strictactiontypeuniqueness`)}function Ur(e,t,n={}){return Z([...yr(e,t,n),mr])}function dr(e={},t={}){return[{provide:Ze,useFactory:er},{provide:ke,useValue:t.initialState},{provide:fe,useFactory:at,deps:[ke]},{provide:ie,useValue:e},{provide:_e,useExisting:e instanceof u?e:ie},{provide:Qe,deps:[ie,[new te(_e)]],useFactory:Jt},{provide:Le,useValue:t.metaReducers?t.metaReducers:[]},{provide:Ge,deps:[V,Le],useFactory:Qt},{provide:Pe,useValue:t.reducerFactory?t.reducerFactory:me},{provide:He,deps:[Pe,Ge],useFactory:nt},It,Tt,At,Ot,Mt,ar(t.runtimeChecks),ut()]}function pr(){d(T),d(P),d(ye),d(ge),d(Ze,{optional:!0}),d(he,{optional:!0})}var fr=[{provide:ue,useFactory:pr},H(()=>d(ue))];function _r(e,t){return Z([...dr(e,t),fr])}function hr(){d(ue);let e=d(et),t=d(tt),n=d(K);d(he,{optional:!0});let r=e.map((s,o)=>{let c=t.shift()[o];return R(h({},s),{reducers:c,initialState:at(s.initialState)})});n.addFeatures(r)}var mr=[{provide:Ve,useFactory:hr},H(()=>d(Ve))];function yr(e,t,n={}){return[{provide:Ne,multi:!0,useValue:e instanceof Object?{}:n},{provide:Ue,multi:!0,useValue:{key:e instanceof Object?e.name:e,reducerFactory:!(n instanceof u)&&n.reducerFactory?n.reducerFactory:me,metaReducers:!(n instanceof u)&&n.metaReducers?n.metaReducers:[],initialState:!(n instanceof u)&&n.initialState?n.initialState:void 0}},{provide:et,deps:[Ne,Ue],useFactory:Zt},{provide:ce,multi:!0,useValue:e instanceof Object?e.reducer:t},{provide:$e,multi:!0,useExisting:t instanceof u?t:ce},{provide:tt,multi:!0,deps:[ce,[new te($e)]],useFactory:Ht},ut()]}function A(...e){let t=e.pop(),n=e.map(r=>r.type);return{reducer:t,types:n}}function lt(e,...t){let n=new Map;for(let r of t)for(let s of r.types){let o=n.get(s);if(o){let i=(c,l)=>r.reducer(o(c,l),l);n.set(s,i)}else n.set(s,r.reducer)}return function(r=e,s){let o=n.get(s.type);return o?o(r,s):r}}var dt=["arXiv","PubMed","CrossRef"],pt={query:"",results:[],loading:!1,error:null,selectedSources:[]};var ft=C("[ScholarGraph] Search Papers",F()),ht=C("[ScholarGraph] Search Papers Success",F()),mt=C("[ScholarGraph] Search Papers Failure",F()),yt=C("[ScholarGraph] Set Selected Sources",F()),gt=C("[ScholarGraph] Toggle Source",F());var U={production:!1,apiUrl:"http://localhost:3000/api",appName:"OmniScholar",version:"0.1.0",scholarGraph:{useLive:!1,liveSources:["CrossRef","arXiv","PubMed"],cacheTtlMs:12e4}};var Rt=class e{http=d(Oe);isBrowser=De(d(Te));cache=new Map;rateLimit$=new L;mockData=[{id:"1",title:"Deep Learning for Biology",authors:["A. Smith","B. Lee"],year:2021,source:"arXiv"},{id:"2",title:"Graph Neural Networks in Practice",authors:["C. Zhao"],year:2022,source:"PubMed"},{id:"3",title:"Citations and Networks",authors:["D. Kumar","E. Park"],year:2019,source:"CrossRef"}];search(t,n=[]){let r=t.trim();if(!r)return y([]);let s=!!U.scholarGraph?.useLive;if(this.isBrowser){let c=window.localStorage.getItem("sg.useLive");c!=null&&(s=c==="true")}let o=n&&n.length?n:["CrossRef","arXiv","PubMed"];if(!s)return y(this.filterMock(r,o)).pipe(z(300));let i=o.map(c=>{switch(c){case"CrossRef":return this.searchCrossRef(r);case"arXiv":return this.searchArxiv(r);case"PubMed":return this.searchPubMed(r);default:return y([])}});return xe(i).pipe(b(c=>c.flat()),I(()=>y(this.filterMock(r,o))))}filterMock(t,n){let r=t.toLowerCase(),s=this.mockData.filter(o=>o.title.toLowerCase().includes(r));return n.length?s.filter(o=>n.includes(o.source)):s}searchCrossRef(t){let n=`crossref:${t}`,r=Date.now(),s=U.scholarGraph?.cacheTtlMs??12e4,o=this.cache.get(n);if(o&&r-o.ts<s)return y(o.data);let i=`https://api.crossref.org/works?query=${encodeURIComponent(t)}&rows=10`;return this.getJsonWithRetry(i,"CrossRef").pipe(b(c=>{let p=(c?.message?.items??[]).map((a,f)=>{let m=Array.isArray(a.author)?a.author.slice(0,6).map(j=>[j.given,j.family].filter(Boolean).join(" ")).filter(Boolean):[],v=Array.isArray(a.issued?.["date-parts"])&&a.issued["date-parts"][0]?.[0]?Number(a.issued["date-parts"][0][0]):a["published-print"]?.["date-parts"]?.[0]?.[0]??a["published-online"]?.["date-parts"]?.[0]?.[0]??null,x=Array.isArray(a.title)?a.title[0]??"Untitled":a.title??"Untitled";return{id:a.DOI??`${Date.now()}-${f}`,title:x,authors:m,year:typeof v=="number"?v:new Date().getFullYear(),source:"CrossRef"}});return this.cache.set(n,{ts:r,data:p}),p}),I(c=>(c?.status===429&&this.rateLimit$.next("CrossRef"),y([]))))}searchArxiv(t){let n=`arxiv:${t}`,r=Date.now(),s=U.scholarGraph?.cacheTtlMs??12e4,o=this.cache.get(n);if(o&&r-o.ts<s)return y(o.data);if(!this.isBrowser)return y([]);let i=`https://export.arxiv.org/api/query?search_query=all:${encodeURIComponent(t)}&start=0&max_results=10`;return this.getTextWithRetry(i,"arXiv").pipe(b(c=>{let p=new DOMParser().parseFromString(c,"application/xml"),f=Array.from(p.getElementsByTagName("entry")).map((m,v)=>{let x=m.getElementsByTagName("id")[0]?.textContent||`${Date.now()}-${v}`,w=(m.getElementsByTagName("title")[0]?.textContent||"Untitled").replace(/\s+/g," ").trim(),j=Array.from(m.getElementsByTagName("author")).map(N=>N.getElementsByTagName("name")[0]?.textContent||"").filter(Boolean).slice(0,6),_=m.getElementsByTagName("published")[0]?.textContent||"",be=_?new Date(_).getFullYear():new Date().getFullYear();return{id:x,title:w,authors:j,year:be,source:"arXiv"}});return this.cache.set(n,{ts:r,data:f}),f}),I(c=>(c?.status===429&&this.rateLimit$.next("arXiv"),y([]))))}searchPubMed(t){let n=`pubmed:${t}`,r=Date.now(),s=U.scholarGraph?.cacheTtlMs??12e4,o=this.cache.get(n);if(o&&r-o.ts<s)return y(o.data);let i=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esearch.fcgi?db=pubmed&retmode=json&retmax=10&term=${encodeURIComponent(t)}`;return this.getJsonWithRetry(i,"PubMed").pipe(b(c=>c?.esearchresult?.idlist||[]),je(c=>{if(!c.length)return y([]);let l=`https://eutils.ncbi.nlm.nih.gov/entrez/eutils/esummary.fcgi?db=pubmed&retmode=json&id=${c.join(",")}`;return this.getJsonWithRetry(l,"PubMed").pipe(b(p=>{let a=p?.result||{},m=(p?.result?.uids||[]).map((v,x)=>{let w=a[v]||{},j=w.title||"Untitled",_=Array.isArray(w.authors)?w.authors.slice(0,6).map(St=>St?.name||"").filter(Boolean):[],N=(w.pubdate||"").match(/\b(\d{4})\b/),bt=N?Number(N[1]):new Date().getFullYear();return{id:v,title:j,authors:_,year:bt,source:"PubMed"}});return this.cache.set(n,{ts:r,data:m}),m}))}),I(c=>(c?.status===429&&this.rateLimit$.next("PubMed"),y([]))))}getJsonWithRetry(t,n){return this.http.get(t,{observe:"body"}).pipe(Y(r=>r.pipe(O((s,o)=>{if((o?.status??0)===429&&s<1)return s+1;throw o},0),z(1e3))),I(r=>(r?.status===429&&this.rateLimit$.next(n),X(()=>r))))}getTextWithRetry(t,n){return this.http.get(t,{responseType:"text"}).pipe(Y(r=>r.pipe(O((s,o)=>{if((o?.status??0)===429&&s<1)return s+1;throw o},0),z(1e3))),I(r=>(r?.status===429&&this.rateLimit$.next(n),X(()=>r))))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var vt="scholarGraph",rn=lt(pt,A(ft,(e,{query:t})=>R(h({},e),{query:t,loading:!0,error:null,results:[]})),A(ht,(e,{results:t})=>R(h({},e),{loading:!1,results:t})),A(mt,(e,{error:t})=>R(h({},e),{loading:!1,error:t})),A(yt,(e,{sources:t})=>R(h({},e),{selectedSources:t,results:[]})),A(gt,(e,{source:t})=>{let r=e.selectedSources.includes(t)?e.selectedSources.filter(s=>s!==t):[...e.selectedSources,t];return R(h({},e),{selectedSources:r,results:[]})}));var D=ct(vt),ln=E(D,e=>e.query),dn=E(D,e=>e.results),pn=E(D,e=>e.loading),fn=E(D,e=>e.error),hn=E(D,e=>e.selectedSources),mn=E(D,()=>dt);export{Me as a,C as b,F as c,Je as d,T as e,fe as f,ue as g,Ve as h,P as i,B as j,Ft as k,ye as l,W as m,ge as n,Ur as o,_r as p,A as q,lt as r,dt as s,ft as t,ht as u,mt as v,gt as w,vt as x,rn as y,U as z,Rt as A,dn as B,pn as C,fn as D,hn as E,mn as F};
