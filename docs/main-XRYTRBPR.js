import{a as ds,d as us,f as ms,g as hs,h as fs}from"./chunk-Y4HXPOE7.js";import{a as kt}from"./chunk-QHPGNBDX.js";import{A as Lr,E as Br,a as _r,b as st,c as vr,d as In,e as Pt,f as br,g as wr,h as Er,i as Sr,j as Tr,k as Nn,l as Dt,m as Cr,n as Ke,o as Mr,p as Ar,q as Fn,r as Pr,t as Ir,u as Nr,v as Fr,x as Rr,y as zr}from"./chunk-TQDX7UNJ.js";import"./chunk-N2SEVUEO.js";import{b as Dr,c as Ot,d as Or,e as kr,f as xr}from"./chunk-JJCYN3JS.js";import{a as ns,b as is,c as rs,d as ss}from"./chunk-7JJXFWTD.js";import{o as os,p as as,q as ls,r as cs}from"./chunk-P7QRMT3H.js";import{d as es,e as qe,f as ts,g as zn}from"./chunk-REC2JRFJ.js";import"./chunk-WIMEYEBA.js";import{$ as Yi,$b as O,$c as $e,Aa as Te,Ab as w,B as qi,Bb as E,Bc as At,Ca as bt,Cb as ce,D as we,E as V,Ea as tr,G as ze,Ga as Be,Gd as It,H as Qi,I as yt,Jb as it,Jc as dr,K as Le,Ka as je,Kc as ur,L as Gi,Lb as Me,M as En,Ma as Ce,Na as nr,Nb as rt,Nc as mr,Nd as Hr,O as Ui,Ob as fe,Pa as Mn,Pb as G,Pc as hr,Pd as Zr,Q as Wi,Qb as Oe,Qc as fr,Qd as Yr,Rb as On,Rd as Xr,Sb as pe,Sc as pr,Sd as Jr,T as Sn,Ta as $,Tb as ge,Tc as gr,Uc as yr,Va as ir,W as Hi,Wa as wt,Xa as An,Xb as kn,Yb as Ct,Zb as Y,_ as Zi,_a as rr,_b as sr,a as L,ac as xn,b as se,ba as Xi,bc as or,bd as Rn,c as Li,ca as Tn,cb as Q,da as Je,db as he,dd as jr,ea as q,eb as Et,f as Ye,fd as Vr,ga as Ji,gb as et,gd as Kr,ha as _t,i as oe,ib as St,ic as Ve,ja as P,jc as ar,k as Bi,kb as Tt,kd as xt,l as ji,la as K,lb as le,ld as $r,m as Vi,ma as me,mb as Pn,n as Ki,nd as qr,oa as ae,od as Qr,p as Xe,pa as R,pc as lr,pd as Gr,qa as y,ra as vt,sa as er,sb as Dn,t as $i,tb as tt,u as j,ub as nt,ud as Ur,va as Ee,vd as Wr,w as wn,wa as Se,xd as ye,yc as cr,za as Cn,zb as ee,zc as Mt,zd as ke}from"./chunk-BBEVVYAI.js";var ta={dispatch:!0,functional:!1,useEffectsErrorHandler:!0},Nt="__@ngrx/effects_create__";function Ft(i,t={}){let e=t.functional?i:i(),n=L(L({},ta),t);return Object.defineProperty(e,Nt,{value:n}),e}function na(i){return Object.getOwnPropertyNames(i).filter(n=>i[n]&&i[n].hasOwnProperty(Nt)?i[n][Nt].hasOwnProperty("dispatch"):!1).map(n=>{let r=i[n][Nt];return L({propertyName:n},r)})}function ia(i){return na(i)}function ps(i){return Object.getPrototypeOf(i)}function ra(i){return!!i.constructor&&i.constructor.name!=="Object"&&i.constructor.name!=="Function"}function gs(i){return typeof i=="function"}function sa(i){return i.filter(gs)}function oa(i,t,e){let n=ps(i),s=!!n&&n.constructor.name!=="Object"?n.constructor.name:null,o=ia(i).map(({propertyName:a,dispatch:l,useEffectsErrorHandler:c})=>{let u=typeof i[a]=="function"?i[a]():i[a],d=c?e(u,t):u;return l===!1?d.pipe(Gi()):d.pipe(Hi()).pipe(j(g=>({effect:i[a],notification:g,propertyName:a,sourceName:s,sourceInstance:i})))});return we(...o)}var aa=10;function ys(i,t,e=aa){return i.pipe(ze(n=>(t&&t.handleError(n),e<=1?i:ys(i,t,e-1))))}var Rt=(()=>{let t=class t extends Ye{constructor(n){super(),n&&(this.source=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}};t.\u0275fac=function(r){return new(r||t)(R(Dt))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function zt(...i){return V(t=>i.some(e=>typeof e=="string"?e===t.type:e.type===t.type))}var la=new ae("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ys}),ca="@ngrx/effects/init",da=st(ca);function ua(i,t){if(i.notification.kind==="N"){let e=i.notification.value;!ma(e)&&t.handleError(new Error(`Effect ${ha(i)} dispatched an invalid action: ${fa(e)}`))}}function ma(i){return typeof i!="function"&&i&&i.type&&typeof i.type=="string"}function ha({propertyName:i,sourceInstance:t,sourceName:e}){let n=typeof t[i]=="function";return!!e?`"${e}.${String(i)}${n?"()":""}"`:`"${String(i)}()"`}function fa(i){try{return JSON.stringify(i)}catch{return i}}var pa="ngrxOnIdentifyEffects";function ga(i){return Ln(i,pa)}var ya="ngrxOnRunEffects";function _a(i){return Ln(i,ya)}var va="ngrxOnInitEffects";function ba(i){return Ln(i,va)}function Ln(i,t){return i&&t in i&&typeof i[t]=="function"}var _s=(()=>{let t=class t extends oe{constructor(n,r){super(),this.errorHandler=n,this.effectsErrorHandler=r}addEffects(n){this.next(n)}toActions(){return this.pipe(Sn(n=>ra(n)?ps(n):n),wn(n=>n.pipe(Sn(wa))),wn(n=>{let r=n.pipe(Wi(o=>Ea(this.errorHandler,this.effectsErrorHandler)(o)),j(o=>(ua(o,this.errorHandler),o.notification)),V(o=>o.kind==="N"&&o.value!=null),Ui()),s=n.pipe(Le(1),V(ba),j(o=>o.ngrxOnInitEffects()));return we(r,s)}))}};t.\u0275fac=function(r){return new(r||t)(R(bt),R(la))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function wa(i){return ga(i)?i.ngrxOnIdentifyEffects():""}function Ea(i,t){return e=>{let n=oa(e,i,t);return _a(e)?e.ngrxOnRunEffects(n):n}}var Sa=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(n,r){this.effectSources=n,this.store=r,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(r){return new(r||t)(R(_s),R(Ke))},t.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"});let i=t;return i})();function Lt(...i){let t=i.flat(),e=sa(t);return vt([e,er(()=>{y(wr),y(Er,{optional:!0});let n=y(Sa),r=y(_s),s=!n.isStarted;s&&n.start();for(let o of t){let a=gs(o)?y(o):o;r.addEffects(a)}s&&y(Ke).dispatch(da())})])}var at="PERFORM_ACTION",Ta="REFRESH",Ts="RESET",Cs="ROLLBACK",Ms="COMMIT",As="SWEEP",Ps="TOGGLE_ACTION",Ca="SET_ACTIONS_ACTIVE",Ds="JUMP_TO_STATE",Os="JUMP_TO_ACTION",Yn="IMPORT_STATE",ks="LOCK_CHANGES",xs="PAUSE_RECORDING",Qe=class{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=at,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Bn=class{constructor(){this.type=Ta}},jn=class{constructor(t){this.timestamp=t,this.type=Ts}},Vn=class{constructor(t){this.timestamp=t,this.type=Cs}},Kn=class{constructor(t){this.timestamp=t,this.type=Ms}},$n=class{constructor(){this.type=As}},qn=class{constructor(t){this.id=t,this.type=Ps}};var Qn=class{constructor(t){this.index=t,this.type=Ds}},Gn=class{constructor(t){this.actionId=t,this.type=Os}},Un=class{constructor(t){this.nextLiftedState=t,this.type=Yn}},Wn=class{constructor(t){this.status=t,this.type=ks}},Hn=class{constructor(t){this.status=t,this.type=xs}};var Kt=new ae("@ngrx/store-devtools Options"),vs=new ae("@ngrx/store-devtools Initial Config");function Is(){return null}var Ma="NgRx Store DevTools";function Aa(i){let t={maxAge:!1,monitor:Is,actionSanitizer:void 0,stateSanitizer:void 0,name:Ma,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof i=="function"?i():i,n=e.logOnly?{pause:!0,export:!0,test:!0}:!1,r=e.features||n||t.features;r.import===!0&&(r.import="custom");let s=Object.assign({},t,{features:r},e);if(s.maxAge&&s.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${s.maxAge}`);return s}function bs(i,t){return i.filter(e=>t.indexOf(e)<0)}function Ns(i){let{computedStates:t,currentStateIndex:e}=i;if(e>=t.length){let{state:r}=t[t.length-1];return r}let{state:n}=t[e];return n}function ot(i){return new Qe(i,+Date.now())}function Pa(i,t){return Object.keys(t).reduce((e,n)=>{let r=Number(n);return e[r]=Fs(i,t[r],r),e},{})}function Fs(i,t,e){return se(L({},t),{action:i(t.action,e)})}function Da(i,t){return t.map((e,n)=>({state:Rs(i,e.state,n),error:e.error}))}function Rs(i,t,e){return i(t,e)}function zs(i){return i.predicate||i.actionsSafelist||i.actionsBlocklist}function Oa(i,t,e,n){let r=[],s={},o=[];return i.stagedActionIds.forEach((a,l)=>{let c=i.actionsById[a];c&&(l&&Xn(i.computedStates[l],c,t,e,n)||(s[a]=c,r.push(a),o.push(i.computedStates[l])))}),se(L({},i),{stagedActionIds:r,actionsById:s,computedStates:o})}function Xn(i,t,e,n,r){let s=e&&!e(i,t.action),o=n&&!t.action.type.match(n.map(l=>ws(l)).join("|")),a=r&&t.action.type.match(r.map(l=>ws(l)).join("|"));return s||o||a}function ws(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ls(i){return{ngZone:i?y(le):null,connectInZone:i}}var $t=(()=>{let t=class t extends Pt{};t.\u0275fac=(()=>{let n;return function(s){return(n||(n=je(t)))(s||t)}})(),t.\u0275prov=K({token:t,factory:t.\u0275fac});let i=t;return i})(),Bt={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},Zn=new ae("@ngrx/store-devtools Redux Devtools Extension"),Bs=(()=>{let t=class t{constructor(n,r,s){this.config=r,this.dispatcher=s,this.zoneConfig=Ls(this.config.connectInZone),this.devtoolsExtension=n,this.createActionStreams()}notify(n,r){if(this.devtoolsExtension)if(n.type===at){if(r.isLocked||r.isPaused)return;let s=Ns(r);if(zs(this.config)&&Xn(s,n,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let o=this.config.stateSanitizer?Rs(this.config.stateSanitizer,s,r.currentStateIndex):s,a=this.config.actionSanitizer?Fs(this.config.actionSanitizer,n,r.nextActionId):n;this.sendToReduxDevtools(()=>this.extensionConnection.send(a,o))}else{let s=se(L({},r),{stagedActionIds:r.stagedActionIds,actionsById:this.config.actionSanitizer?Pa(this.config.actionSanitizer,r.actionsById):r.actionsById,computedStates:this.config.stateSanitizer?Da(this.config.stateSanitizer,r.computedStates):r.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,s,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new Ye(n=>{let r=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=r,r.init(),r.subscribe(s=>n.next(s)),r.unsubscribe}):Vi}createActionStreams(){let n=this.createChangesObservable().pipe(Yi()),r=n.pipe(V(u=>u.type===Bt.START)),s=n.pipe(V(u=>u.type===Bt.STOP)),o=n.pipe(V(u=>u.type===Bt.DISPATCH),j(u=>this.unwrapAction(u.payload)),Qi(u=>u.type===Yn?this.dispatcher.pipe(V(d=>d.type===Nn),$i(1e3),yt(1e3),j(()=>u),ze(()=>Xe(u)),Le(1)):Xe(u))),l=n.pipe(V(u=>u.type===Bt.ACTION),j(u=>this.unwrapAction(u.payload))).pipe(q(s)),c=o.pipe(q(s));this.start$=r.pipe(q(s)),this.actions$=this.start$.pipe(Je(()=>l)),this.liftedActions$=this.start$.pipe(Je(()=>c))}unwrapAction(n){return typeof n=="string"?(0,eval)(`(${n})`):n}getExtensionConfig(n){let r={name:n.name,features:n.features,serialize:n.serialize,autoPause:n.autoPause??!1,trace:n.trace??!1,traceLimit:n.traceLimit??75};return n.maxAge!==!1&&(r.maxAge=n.maxAge),r}sendToReduxDevtools(n){try{n()}catch(r){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",r)}}};t.\u0275fac=function(r){return new(r||t)(R(Zn),R(Kt),R($t))},t.\u0275prov=K({token:t,factory:t.\u0275fac});let i=t;return i})(),Vt={type:In},ka="@ngrx/store-devtools/recompute",xa={type:ka};function js(i,t,e,n,r){if(n)return{state:e,error:"Interrupted by an error up the chain"};let s=e,o;try{s=i(e,t)}catch(a){o=a.toString(),r.handleError(a)}return{state:s,error:o}}function jt(i,t,e,n,r,s,o,a,l){if(t>=i.length&&i.length===s.length)return i;let c=i.slice(0,t),u=s.length-(l?1:0);for(let d=t;d<u;d++){let f=s[d],g=r[f].action,m=c[d-1],h=m?m.state:n,C=m?m.error:void 0,D=o.indexOf(f)>-1?m:js(e,g,h,C,a);c.push(D)}return l&&c.push(i[i.length-1]),c}function Ia(i,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:ot(Vt)},stagedActionIds:[0],skippedActionIds:[],committedState:i,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Na(i,t,e,n,r={}){return s=>(o,a)=>{let{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:g,currentStateIndex:m,computedStates:h,isLocked:C,isPaused:M}=o||t;o||(c=Object.create(c));function D(k){let T=k,I=d.slice(1,T+1);for(let x=0;x<I.length;x++)if(h[x+1].error){T=x,I=d.slice(1,T+1);break}else delete c[I[x]];f=f.filter(x=>I.indexOf(x)===-1),d=[0,...d.slice(T+1)],g=h[T].state,h=h.slice(T),m=m>T?m-T:0}function F(){c={0:ot(Vt)},u=1,d=[0],f=[],g=h[m].state,m=0,h=[]}let b=0;switch(a.type){case ks:{C=a.status,b=1/0;break}case xs:{M=a.status,M?(d=[...d,u],c[u]=new Qe({type:"@ngrx/devtools/pause"},+Date.now()),u++,b=d.length-1,h=h.concat(h[h.length-1]),m===d.length-2&&m++,b=1/0):F();break}case Ts:{c={0:ot(Vt)},u=1,d=[0],f=[],g=i,m=0,h=[];break}case Ms:{F();break}case Cs:{c={0:ot(Vt)},u=1,d=[0],f=[],m=0,h=[];break}case Ps:{let{id:k}=a;f.indexOf(k)===-1?f=[k,...f]:f=f.filter(I=>I!==k),b=d.indexOf(k);break}case Ca:{let{start:k,end:T,active:I}=a,x=[];for(let J=k;J<T;J++)x.push(J);I?f=bs(f,x):f=[...f,...x],b=d.indexOf(k);break}case Ds:{m=a.index,b=1/0;break}case Os:{let k=d.indexOf(a.actionId);k!==-1&&(m=k),b=1/0;break}case As:{d=bs(d,f),f=[],m=Math.min(m,d.length-1);break}case at:{if(C)return o||t;if(M||o&&Xn(o.computedStates[m],a,r.predicate,r.actionsSafelist,r.actionsBlocklist)){let T=h[h.length-1];h=[...h.slice(0,-1),js(s,a.action,T.state,T.error,e)],b=1/0;break}r.maxAge&&d.length===r.maxAge&&D(1),m===d.length-1&&m++;let k=u++;c[k]=a,d=[...d,k],b=d.length-1;break}case Yn:{({monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:g,currentStateIndex:m,computedStates:h,isLocked:C,isPaused:M}=a.nextLiftedState);break}case In:{b=0,r.maxAge&&d.length>r.maxAge&&(h=jt(h,b,s,g,c,d,f,e,M),D(d.length-r.maxAge),b=1/0);break}case Nn:{if(h.filter(T=>T.error).length>0)b=0,r.maxAge&&d.length>r.maxAge&&(h=jt(h,b,s,g,c,d,f,e,M),D(d.length-r.maxAge),b=1/0);else{if(!M&&!C){m===d.length-1&&m++;let T=u++;c[T]=new Qe(a,+Date.now()),d=[...d,T],b=d.length-1,h=jt(h,b,s,g,c,d,f,e,M)}h=h.map(T=>se(L({},T),{state:s(T.state,xa)})),m=d.length-1,r.maxAge&&d.length>r.maxAge&&D(d.length-r.maxAge),b=1/0}break}default:{b=1/0;break}}return h=jt(h,b,s,g,c,d,f,e,M),l=n(l,a),{monitorState:l,actionsById:c,nextActionId:u,stagedActionIds:d,skippedActionIds:f,committedState:g,currentStateIndex:m,computedStates:h,isLocked:C,isPaused:M}}}var Es=(()=>{let t=class t{constructor(n,r,s,o,a,l,c,u){let d=Ia(c,u.monitor),f=Na(c,d,l,u.monitor,u),g=we(we(r.asObservable().pipe(Xi(1)),o.actions$).pipe(j(ot)),n,o.liftedActions$).pipe(Ki(ji)),m=s.pipe(j(f)),h=Ls(u.connectInZone),C=new Bi(1);this.liftedStateSubscription=g.pipe(_t(m),Ss(h),Zi(({state:F},[b,k])=>{let T=k(F,b);return b.type!==at&&zs(u)&&(T=Oa(T,u.predicate,u.actionsSafelist,u.actionsBlocklist)),o.notify(b,T),{state:T,action:b}},{state:d,action:null})).subscribe(({state:F,action:b})=>{if(C.next(F),b.type===at){let k=b.action;a.next(k)}}),this.extensionStartSubscription=o.start$.pipe(Ss(h)).subscribe(()=>{this.refresh()});let M=C.asObservable(),D=M.pipe(j(Ns));Object.defineProperty(D,"state",{value:_r(D,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=n,this.liftedState=M,this.state=D}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(n){this.dispatcher.next(n)}next(n){this.dispatcher.next(n)}error(n){}complete(){}performAction(n){this.dispatch(new Qe(n,+Date.now()))}refresh(){this.dispatch(new Bn)}reset(){this.dispatch(new jn(+Date.now()))}rollback(){this.dispatch(new Vn(+Date.now()))}commit(){this.dispatch(new Kn(+Date.now()))}sweep(){this.dispatch(new $n)}toggleAction(n){this.dispatch(new qn(n))}jumpToAction(n){this.dispatch(new Gn(n))}jumpToState(n){this.dispatch(new Qn(n))}importState(n){this.dispatch(new Un(n))}lockChanges(n){this.dispatch(new Wn(n))}pauseRecording(n){this.dispatch(new Hn(n))}};t.\u0275fac=function(r){return new(r||t)(R($t),R(Pt),R(Sr),R(Bs),R(Dt),R(bt),R(br),R(Kt))},t.\u0275prov=K({token:t,factory:t.\u0275fac});let i=t;return i})();function Ss({ngZone:i,connectInZone:t}){return e=>t?new Ye(n=>e.subscribe({next:r=>i.run(()=>n.next(r)),error:r=>i.run(()=>n.error(r)),complete:()=>i.run(()=>n.complete())})):e}var Fa=new ae("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ra(i,t){return!!i||t.monitor!==Is}function za(){let i="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[i]<"u"?window[i]:null}function La(i){return i.state}function Vs(i={}){return vt([Bs,$t,Es,{provide:vs,useValue:i},{provide:Fa,deps:[Zn,Kt],useFactory:Ra},{provide:Zn,useFactory:za},{provide:Kt,deps:[vs],useFactory:Aa},{provide:Cr,deps:[Es],useFactory:La},{provide:Tr,useExisting:$t}])}var qt=st("[App] Initialized"),Ks=st("[App] Set Loading",vr());var $s={ui:{initialized:!1,loading:!1}};var qs=Pr($s,Fn(qt,i=>se(L({},i),{ui:se(L({},i.ui),{initialized:!0})})),Fn(Ks,(i,{loading:t})=>se(L({},i),{ui:se(L({},i.ui),{loading:t})})));var Qt=class i{actions$=y(Rt);logInit$=Ft(()=>this.actions$.pipe(zt(qt),Ji(()=>{})),{dispatch:!1});static \u0275fac=function(e){return new(e||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})};var S=(function(i){return i[i.State=0]="State",i[i.Transition=1]="Transition",i[i.Sequence=2]="Sequence",i[i.Group=3]="Group",i[i.Animate=4]="Animate",i[i.Keyframes=5]="Keyframes",i[i.Style=6]="Style",i[i.Trigger=7]="Trigger",i[i.Reference=8]="Reference",i[i.AnimateChild=9]="AnimateChild",i[i.AnimateRef=10]="AnimateRef",i[i.Query=11]="Query",i[i.Stagger=12]="Stagger",i})(S||{}),te="*";function Qs(i,t=null){return{type:S.Sequence,steps:i,options:t}}function Jn(i){return{type:S.Style,styles:i,offset:null}}var _e=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Ge=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==s&&this._onFinish()}),o.onDestroy(()=>{++n==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let r=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(r)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},lt="!";function Gs(i){return new P(3e3,!1)}function Ba(){return new P(3100,!1)}function ja(){return new P(3101,!1)}function Va(i){return new P(3001,!1)}function Ka(i){return new P(3003,!1)}function $a(i){return new P(3004,!1)}function Ws(i,t){return new P(3005,!1)}function Hs(){return new P(3006,!1)}function Zs(){return new P(3007,!1)}function Ys(i,t){return new P(3008,!1)}function Xs(i){return new P(3002,!1)}function Js(i,t,e,n,r){return new P(3010,!1)}function eo(){return new P(3011,!1)}function to(){return new P(3012,!1)}function no(){return new P(3200,!1)}function io(){return new P(3202,!1)}function ro(){return new P(3013,!1)}function so(i){return new P(3014,!1)}function oo(i){return new P(3015,!1)}function ao(i){return new P(3016,!1)}function lo(i,t){return new P(3404,!1)}function qa(i){return new P(3502,!1)}function co(i){return new P(3503,!1)}function uo(){return new P(3300,!1)}function mo(i){return new P(3504,!1)}function ho(i){return new P(3301,!1)}function fo(i,t){return new P(3302,!1)}function po(i){return new P(3303,!1)}function go(i,t){return new P(3400,!1)}function yo(i){return new P(3401,!1)}function _o(i){return new P(3402,!1)}function vo(i,t){return new P(3505,!1)}function ve(i){switch(i.length){case 0:return new _e;case 1:return i[0];default:return new Ge(i)}}function ii(i,t,e=new Map,n=new Map){let r=[],s=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,g)=>{let m=g,h=f;if(g!=="offset")switch(m=i.normalizePropertyName(m,r),h){case lt:h=e.get(g);break;case te:h=n.get(g);break;default:h=i.normalizeStyleValue(g,m,h,r);break}d.set(m,h)}),u||s.push(d),a=d,o=c}),r.length)throw qa(r);return s}function Gt(i,t,e,n){switch(t){case"start":i.onStart(()=>n(e&&ei(e,"start",i)));break;case"done":i.onDone(()=>n(e&&ei(e,"done",i)));break;case"destroy":i.onDestroy(()=>n(e&&ei(e,"destroy",i)));break}}function ei(i,t,e){let n=e.totalTime,r=!!e.disabled,s=Ut(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,n??i.totalTime,r),o=i._data;return o!=null&&(s._data=o),s}function Ut(i,t,e,n,r="",s=0,o){return{element:i,triggerName:t,fromState:e,toState:n,phaseName:r,totalTime:s,disabled:!!o}}function U(i,t,e){let n=i.get(t);return n||i.set(t,n=e),n}function ri(i){let t=i.indexOf(":"),e=i.substring(1,t),n=i.slice(t+1);return[e,n]}var Qa=typeof document>"u"?null:document.documentElement;function Wt(i){let t=i.parentNode||i.host||null;return t===Qa?null:t}function Ga(i){return i.substring(1,6)=="ebkit"}var xe=null,Us=!1;function bo(i){xe||(xe=Ua()||{},Us=xe.style?"WebkitAppearance"in xe.style:!1);let t=!0;return xe.style&&!Ga(i)&&(t=i in xe.style,!t&&Us&&(t="Webkit"+i.charAt(0).toUpperCase()+i.slice(1)in xe.style)),t}function Ua(){return typeof document<"u"?document.body:null}function si(i,t){for(;t;){if(t===i)return!0;t=Wt(t)}return!1}function oi(i,t,e){if(e)return Array.from(i.querySelectorAll(t));let n=i.querySelector(t);return n?[n]:[]}var Wa=1e3,ai="{{",Ha="}}",li="ng-enter",Ht="ng-leave",ct="ng-trigger",dt=".ng-trigger",ci="ng-animating",Zt=".ng-animating";function ue(i){if(typeof i=="number")return i;let t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:ti(parseFloat(t[1]),t[2])}function ti(i,t){switch(t){case"s":return i*Wa;default:return i}}function ut(i,t,e){return i.hasOwnProperty("duration")?i:Ya(i,t,e)}var Za=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;function Ya(i,t,e){let n,r=0,s="";if(typeof i=="string"){let o=i.match(Za);if(o===null)return t.push(Gs(i)),{duration:0,delay:0,easing:""};n=ti(parseFloat(o[1]),o[2]);let a=o[3];a!=null&&(r=ti(parseFloat(a),o[4]));let l=o[5];l&&(s=l)}else n=i;if(!e){let o=!1,a=t.length;n<0&&(t.push(Ba()),o=!0),r<0&&(t.push(ja()),o=!0),o&&t.splice(a,0,Gs(i))}return{duration:n,delay:r,easing:s}}function wo(i){return i.length?i[0]instanceof Map?i:i.map(t=>new Map(Object.entries(t))):[]}function ne(i,t,e){t.forEach((n,r)=>{let s=Yt(r);e&&!e.has(r)&&e.set(r,i.style[s]),i.style[s]=n})}function Ae(i,t){t.forEach((e,n)=>{let r=Yt(n);i.style[r]=""})}function Ue(i){return Array.isArray(i)?i.length==1?i[0]:Qs(i):i}function Eo(i,t,e){let n=t.params||{},r=di(i);r.length&&r.forEach(s=>{n.hasOwnProperty(s)||e.push(Va(s))})}var ni=new RegExp(`${ai}\\s*(.+?)\\s*${Ha}`,"g");function di(i){let t=[];if(typeof i=="string"){let e;for(;e=ni.exec(i);)t.push(e[1]);ni.lastIndex=0}return t}function We(i,t,e){let n=`${i}`,r=n.replace(ni,(s,o)=>{let a=t[o];return a==null&&(e.push(Ka(o)),a=""),a.toString()});return r==n?i:r}var Xa=/-+([a-z0-9])/g;function Yt(i){return i.replace(Xa,(...t)=>t[1].toUpperCase())}function So(i,t){return i===0||t===0}function To(i,t,e){if(e.size&&t.length){let n=t[0],r=[];if(e.forEach((s,o)=>{n.has(o)||r.push(o),n.set(o,s)}),r.length)for(let s=1;s<t.length;s++){let o=t[s];r.forEach(a=>o.set(a,Xt(i,a)))}}return t}function W(i,t,e){switch(t.type){case S.Trigger:return i.visitTrigger(t,e);case S.State:return i.visitState(t,e);case S.Transition:return i.visitTransition(t,e);case S.Sequence:return i.visitSequence(t,e);case S.Group:return i.visitGroup(t,e);case S.Animate:return i.visitAnimate(t,e);case S.Keyframes:return i.visitKeyframes(t,e);case S.Style:return i.visitStyle(t,e);case S.Reference:return i.visitReference(t,e);case S.AnimateChild:return i.visitAnimateChild(t,e);case S.AnimateRef:return i.visitAnimateRef(t,e);case S.Query:return i.visitQuery(t,e);case S.Stagger:return i.visitStagger(t,e);default:throw $a(t.type)}}function Xt(i,t){return window.getComputedStyle(i)[t]}var Ai=(()=>{class i{validateStyleProperty(e){return bo(e)}containsElement(e,n){return si(e,n)}getParentElement(e){return Wt(e)}query(e,n,r){return oi(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,s,o,a=[],l){return new _e(r,s)}static \u0275fac=function(n){return new(n||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})(),Ne=class{static NOOP=new Ai},Fe=class{};var Ja=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),rn=class extends Fe{normalizePropertyName(t,e){return Yt(t)}normalizeStyleValue(t,e,n,r){let s="",o=n.toString().trim();if(Ja.has(e)&&n!==0&&n!=="0")if(typeof n=="number")s="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(Ws(t,n))}return o+s}};var sn="*";function el(i,t){let e=[];return typeof i=="string"?i.split(/\s*,\s*/).forEach(n=>tl(n,e,t)):e.push(i),e}function tl(i,t,e){if(i[0]==":"){let l=nl(i,e);if(typeof l=="function"){t.push(l);return}i=l}let n=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(oo(i)),t;let r=n[1],s=n[2],o=n[3];t.push(Co(r,o));let a=r==sn&&o==sn;s[0]=="<"&&!a&&t.push(Co(o,r))}function nl(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(ao(i)),"* => *"}}var Jt=new Set(["true","1"]),en=new Set(["false","0"]);function Co(i,t){let e=Jt.has(i)||en.has(i),n=Jt.has(t)||en.has(t);return(r,s)=>{let o=i==sn||i==r,a=t==sn||t==s;return!o&&e&&typeof r=="boolean"&&(o=r?Jt.has(i):en.has(i)),!a&&n&&typeof s=="boolean"&&(a=s?Jt.has(t):en.has(t)),o&&a}}var Fo=":self",il=new RegExp(`s*${Fo}s*,?`,"g");function Ro(i,t,e,n){return new gi(i).build(t,e,n)}var Mo="",gi=class{_driver;constructor(t){this._driver=t}build(t,e,n){let r=new yi(e);return this._resetContextStyleTimingState(r),W(this,Ue(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector=Mo,t.collectedStyles=new Map,t.collectedStyles.set(Mo,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0,s=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Hs()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==S.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,e))}),l.name=c}else if(a.type==S.Transition){let l=this.visitTransition(a,e);n+=l.queryCount,r+=l.depCount,o.push(l)}else e.errors.push(Zs())}),{type:S.Trigger,name:t.name,states:s,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){let s=new Set,o=r||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{di(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&e.errors.push(Ys(t.name,[...s.values()]))}return{type:S.State,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=W(this,Ue(t.animation),e),r=el(t.expr,e.errors);return{type:S.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Ie(t.options)}}visitSequence(t,e){return{type:S.Sequence,steps:t.steps.map(n=>W(this,n,e)),options:Ie(t.options)}}visitGroup(t,e){let n=e.currentTime,r=0,s=t.steps.map(o=>{e.currentTime=n;let a=W(this,o,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:S.Group,steps:s,options:Ie(t.options)}}visitAnimate(t,e){let n=al(t.timings,e.errors);e.currentAnimateTimings=n;let r,s=t.styles?t.styles:Jn({});if(s.type==S.Keyframes)r=this.visitKeyframes(s,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};n.easing&&(c.easing=n.easing),o=Jn(c)}e.currentTime+=n.duration+n.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:S.Animate,timings:n,style:r,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of r)typeof a=="string"?a===te?n.push(a):e.errors.push(Xs(a)):n.push(new Map(Object.entries(a)));let s=!1,o=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(ai)>=0){s=!0;break}}}),{type:S.Style,styles:n,easing:o,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,r=e.currentTime,s=e.currentTime;n&&s>0&&(s-=n.duration+n.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=r&&s>=u.startTime&&r<=u.endTime&&(e.errors.push(Js(l,u.startTime,u.endTime,s,r)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:r}),e.options&&Eo(a,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:S.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(eo()),n;let r=1,s=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(M=>{let D=this._makeStyleAst(M,e),F=D.offset!=null?D.offset:ol(D.styles),b=0;return F!=null&&(s++,b=D.offset=F),l=l||b<0||b>1,a=a||b<c,c=b,o.push(b),D});l&&e.errors.push(to()),a&&e.errors.push(no());let d=t.steps.length,f=0;s>0&&s<d?e.errors.push(io()):s==0&&(f=r/(d-1));let g=d-1,m=e.currentTime,h=e.currentAnimateTimings,C=h.duration;return u.forEach((M,D)=>{let F=f>0?D==g?1:f*D:o[D],b=F*C;e.currentTime=m+h.delay+b,h.duration=b,this._validateStyleAst(M,e),M.offset=F,n.styles.push(M)}),n}visitReference(t,e){return{type:S.Reference,animation:W(this,Ue(t.animation),e),options:Ie(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:S.AnimateChild,options:Ie(t.options)}}visitAnimateRef(t,e){return{type:S.AnimateRef,animation:this.visitReference(t.animation,e),options:Ie(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;let[s,o]=rl(t.selector);e.currentQuerySelector=n.length?n+" "+s:s,U(e.collectedStyles,e.currentQuerySelector,new Map);let a=W(this,Ue(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:S.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ie(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(ro());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:ut(t.timings,e.errors,!0);return{type:S.Stagger,animation:W(this,Ue(t.animation),e),timings:n,options:null}}};function rl(i){let t=!!i.split(/\s*,\s*/).find(e=>e==Fo);return t&&(i=i.replace(il,"")),i=i.replace(/@\*/g,dt).replace(/@\w+/g,e=>dt+"-"+e.slice(1)).replace(/:animating/g,Zt),[i,t]}function sl(i){return i?L({},i):null}var yi=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function ol(i){if(typeof i=="string")return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(i instanceof Map&&i.has("offset")){let e=i;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function al(i,t){if(i.hasOwnProperty("duration"))return i;if(typeof i=="number"){let s=ut(i,t).duration;return ui(s,0,"")}let e=i;if(e.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=ui(0,0,"");return s.dynamic=!0,s.strValue=e,s}let r=ut(e,t);return ui(r.duration,r.delay,r.easing)}function Ie(i){return i?(i=L({},i),i.params&&(i.params=sl(i.params))):i={},i}function ui(i,t,e){return{duration:i,delay:t,easing:e}}function Pi(i,t,e,n,r,s,o=null,a=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:n,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var ht=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},ll=1,cl=":enter",dl=new RegExp(cl,"g"),ul=":leave",ml=new RegExp(ul,"g");function zo(i,t,e,n,r,s=new Map,o=new Map,a,l,c=[]){return new _i().buildKeyframes(i,t,e,n,r,s,o,a,l,c)}var _i=class{buildKeyframes(t,e,n,r,s,o,a,l,c,u=[]){c=c||new ht;let d=new vi(t,e,c,r,s,u,[]);d.options=l;let f=l.delay?ue(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),W(this,n,d);let g=d.timelines.filter(m=>m.containsAnimation());if(g.length&&a.size){let m;for(let h=g.length-1;h>=0;h--){let C=g[h];if(C.element===e){m=C;break}}m&&!m.allowOnlyTimelineStyles()&&m.setStyles([a],null,d.errors,l)}return g.length?g.map(m=>m.buildKeyframes()):[Pi(e,[],[],[],0,f,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);s!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let r of t){let s=r?.delay;if(s){let o=typeof s=="number"?s:ue(We(s,r?.params??{},e.errors));n.delayNextStep(o)}}}_visitSubInstructions(t,e,n){let s=e.currentTimeline.currentTime,o=n.duration!=null?ue(n.duration):null,a=n.delay!=null?ue(n.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),W(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,r=e,s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==S.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=on);let o=ue(s.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>W(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],r=e.currentTimeline.currentTime,s=t.options&&t.options.delay?ue(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);s&&a.delayNextStep(s),W(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,r=e.params?We(n,e.params,e.errors):n;return ut(r,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let s=t.style;s.type==S.Keyframes?this.visitKeyframes(s,e):(e.incrementTime(n.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let s=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(s):n.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,s=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?ue(r.delay):0;s&&(e.previousNode.type===S.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=on);let o=n,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let d=e.createSubContext(t.options,c);s&&d.delayNextStep(s),c===e.element&&(l=d.currentTimeline),W(this,t.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,r=e.currentTimeline,s=t.timings,o=Math.abs(s.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;W(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-d+(r.startTime-n.currentTimeline.startTime)}},on={},vi=class i{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=on;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,r,s,o,a,l){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.currentTimeline=l||new an(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,r=this.options;n.duration!=null&&(r.duration=ue(n.duration)),n.delay!=null&&(r.delay=ue(n.delay));let s=n.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=We(s[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return t}createSubContext(t=null,e,n){let r=e||this.element,s=new i(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=on,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},s=new bi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,s,o){let a=[];if(r&&a.push(this.element),t.length>0){t=t.replace(dl,"."+this._enterClassName),t=t.replace(ml,"."+this._leaveClassName);let l=n!=1,c=this._driver.query(this.element,t,l);n!==0&&(c=n<0?c.slice(c.length+n,c.length):c.slice(0,n)),a.push(...c)}return!s&&a.length==0&&o.push(so(e)),a}},an=class i{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new i(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ll,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||te),this._currentKeyframe.set(e,te);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&this._previousKeyframe.set("easing",e);let s=r&&r.params||{},o=hl(t,this._globalTimelineStyles);for(let[a,l]of o){let c=We(l,s,n);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??te),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===lt?t.add(d):u===te&&e.add(d)}),n||c.set("offset",l/this.duration),r.push(c)});let s=[...t.values()],o=[...e.values()];if(n){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return Pi(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},bi=class extends an{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,r,s,o,a=!1){super(t,e,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let s=[],o=n+e,a=e/o,l=new Map(t[0]);l.set("offset",0),s.push(l);let c=new Map(t[0]);c.set("offset",Ao(a)),s.push(c);let u=t.length-1;for(let d=1;d<=u;d++){let f=new Map(t[d]),g=f.get("offset"),m=e+g*n;f.set("offset",Ao(m/o)),s.push(f)}n=o,e=0,r="",t=s}return Pi(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function Ao(i,t=3){let e=Math.pow(10,t-1);return Math.round(i*e)/e}function hl(i,t){let e=new Map,n;return i.forEach(r=>{if(r==="*"){n??=t.keys();for(let s of n)e.set(s,te)}else for(let[s,o]of r)e.set(s,o)}),e}function Po(i,t,e,n,r,s,o,a,l,c,u,d,f){return{type:0,element:i,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:n,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var mi={},ln=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return fl(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){let r=this._stateStyles.get("*");return t!==void 0&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,n):new Map}build(t,e,n,r,s,o,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||mi,g=a&&a.params||mi,m=this.buildStyles(n,g,d),h=l&&l.params||mi,C=this.buildStyles(r,h,d),M=new Set,D=new Map,F=new Map,b=r==="void",k={params:Lo(h,f),delay:this.ast.options?.delay},T=u?[]:zo(t,e,this.ast.animation,s,o,m,C,k,c,d),I=0;return T.forEach(x=>{I=Math.max(x.duration+x.delay,I)}),d.length?Po(e,this._triggerName,n,r,b,m,C,[],[],D,F,I,d):(T.forEach(x=>{let J=x.element,Re=U(D,J,new Set);x.preStyleProps.forEach(Pe=>Re.add(Pe));let Ni=U(F,J,new Set);x.postStyleProps.forEach(Pe=>Ni.add(Pe)),J!==e&&M.add(J)}),Po(e,this._triggerName,n,r,b,m,C,T,[...M.values()],D,F,I))}};function fl(i,t,e,n,r){return i.some(s=>s(t,e,n,r))}function Lo(i,t){let e=L({},t);return Object.entries(i).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var wi=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,r=Lo(t,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=We(o,r,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),n.set(a,o)})}),n}};function pl(i,t,e){return new Ei(i,t,e)}var Ei=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new wi(r.style,s,n))}),Do(this.states,"true","1"),Do(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ln(t,r,this.states))}),this.fallbackTransition=gl(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(o=>o.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function gl(i,t,e){let n=[(o,a)=>!0],r={type:S.Sequence,steps:[],options:null},s={type:S.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new ln(i,s,t)}function Do(i,t,e){i.has(t)?i.has(e)||i.set(e,i.get(t)):i.has(e)&&i.set(t,i.get(e))}var yl=new ht,Si=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],r=[],s=Ro(this._driver,e,n,r);if(n.length)throw co(n);this._animations.set(t,s)}_buildPlayer(t,e,n){let r=t.element,s=ii(this._normalizer,t.keyframes,e,n);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let r=[],s=this._animations.get(t),o,a=new Map;if(s?(o=zo(this._driver,e,s,li,Ht,new Map,new Map,n,yl,r),o.forEach(u=>{let d=U(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(r.push(uo()),o=[]),r.length)throw mo(r);a.forEach((u,d)=>{u.forEach((f,g)=>{u.set(g,this._driver.computeStyle(d,g,te))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=ve(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw ho(t);return e}listen(t,e,n,r){let s=Ut(e,"","","");return Gt(this._getPlayer(t),n,s,r),()=>{}}command(t,e,n,r){if(n=="register"){this.register(t,r[0]);return}if(n=="create"){let o=r[0]||{};this.create(t,e,o);return}let s=this._getPlayer(t);switch(n){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t);break}}},Oo="ng-animate-queued",_l=".ng-animate-queued",hi="ng-animate-disabled",vl=".ng-animate-disabled",bl="ng-star-inserted",wl=".ng-star-inserted",El=[],Bo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Sl={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ie="__ng_removed",ft=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),r=n?t.value:t;if(this.value=Cl(r),n){let s=t,{value:o}=s,a=Li(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},mt="void",fi=new ft(mt),Ti=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,X(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.has(e))throw fo(n,e);if(n==null||n.length==0)throw po(e);if(!Ml(n))throw go(n,e);let s=U(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);let a=U(this._engine.statesByElement,t,new Map);return a.has(e)||(X(t,ct),X(t,ct+"-"+e),a.set(e,fi)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw yo(t);return e}trigger(t,e,n,r=!0){let s=this._getTrigger(e),o=new pt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(X(t,ct),X(t,ct+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new ft(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=fi),!(c.value===mt)&&l.value===c.value){if(!Dl(l.params,c.params)){let h=[],C=s.matchStyles(l.value,l.params,h),M=s.matchStyles(c.value,c.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(()=>{Ae(t,C),ne(t,M)})}return}let f=U(this._engine.playersByElement,t,[]);f.forEach(h=>{h.namespaceId==this.id&&h.triggerName==e&&h.queued&&h.destroy()});let g=s.matchTransition(l.value,c.value,t,c.params),m=!1;if(!g){if(!r)return;g=s.fallbackTransition,m=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:g,fromState:l,toState:c,player:o,isFallbackTransition:m}),m||(X(t,Oo),o.onStart(()=>{He(t,Oo)})),o.onDone(()=>{let h=this.players.indexOf(o);h>=0&&this.players.splice(h,1);let C=this._engine.playersByElement.get(t);if(C){let M=C.indexOf(o);M>=0&&C.splice(M,1)}}),this.players.push(o),f.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,dt,!0);n.forEach(r=>{if(r[ie])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,n,r){let s=this._engine.statesByElement.get(t),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,mt,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),n&&ve(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let r=new Set;e.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,c=n.get(o)||fi,u=new ft(mt),d=new pt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){let s=n.players.length?n.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let o=t;for(;o=o.parentNode;)if(n.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{let s=t[ie];(!s||s===Bo)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){X(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let s=n.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==n.triggerName){let l=Ut(s,n.triggerName,n.fromState.value,n.toState.value);l._data=t,Gt(n.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let s=n.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},Ci=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Ti(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=r.get(a);if(l){let c=n.indexOf(l);n.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||n.unshift(t)}else n.push(t);return r.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let r of n.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}}return e}trigger(t,e,n,r){if(tn(e)){let s=this._fetchNamespace(t);if(s)return s.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!tn(e))return;let s=e[ie];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),X(t,hi)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),He(t,hi))}removeNode(t,e,n){if(tn(e)){let r=t?this._fetchNamespace(t):null;r?r.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,r,s){this.collectedLeaveElements.push(e),e[ie]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,n,r,s){return tn(e)?this._fetchNamespace(t).listen(e,n,r,s):()=>{}}_buildInstruction(t,e,n,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,dt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,Zt,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ve(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ie];if(e&&e.setForRemoval){if(t[ie]=Bo,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(hi)&&this.markElementAsDisabled(t,!1),this.driver.query(t,vl,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];X(r,bl)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?ve(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(t){throw _o(t)}_flushAnimations(t,e){let n=new ht,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(p=>{u.add(p);let _=this.driver.query(p,_l,!0);for(let v=0;v<_.length;v++)u.add(_[v])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),g=Io(f,this.collectedEnterElements),m=new Map,h=0;g.forEach((p,_)=>{let v=li+h++;m.set(_,v),p.forEach(A=>X(A,v))});let C=[],M=new Set,D=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){let _=this.collectedLeaveElements[p],v=_[ie];v&&v.setForRemoval&&(C.push(_),M.add(_),v.hasAnimation?this.driver.query(_,wl,!0).forEach(A=>M.add(A)):D.add(_))}let F=new Map,b=Io(f,Array.from(M));b.forEach((p,_)=>{let v=Ht+h++;F.set(_,v),p.forEach(A=>X(A,v))}),t.push(()=>{g.forEach((p,_)=>{let v=m.get(_);p.forEach(A=>He(A,v))}),b.forEach((p,_)=>{let v=F.get(_);p.forEach(A=>He(A,v))}),C.forEach(p=>{this.processLeaveNode(p)})});let k=[],T=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(e).forEach(v=>{let A=v.player,z=v.element;if(k.push(A),this.collectedEnterElements.length){let B=z[ie];if(B&&B.setForMove){if(B.previousTriggersValues&&B.previousTriggersValues.has(v.triggerName)){let De=B.previousTriggersValues.get(v.triggerName),Z=this.statesByElement.get(v.element);if(Z&&Z.has(v.triggerName)){let gt=Z.get(v.triggerName);gt.value=De,Z.set(v.triggerName,gt)}}A.destroy();return}}let re=!d||!this.driver.containsElement(d,z),H=F.get(z),be=m.get(z),N=this._buildInstruction(v,n,be,H,re);if(N.errors&&N.errors.length){T.push(N);return}if(re){A.onStart(()=>Ae(z,N.fromStyles)),A.onDestroy(()=>ne(z,N.toStyles)),r.push(A);return}if(v.isFallbackTransition){A.onStart(()=>Ae(z,N.fromStyles)),A.onDestroy(()=>ne(z,N.toStyles)),r.push(A);return}let zi=[];N.timelines.forEach(B=>{B.stretchStartingKeyframe=!0,this.disabledNodes.has(B.element)||zi.push(B)}),N.timelines=zi,n.append(z,N.timelines);let Jo={instruction:N,player:A,element:z};o.push(Jo),N.queriedElements.forEach(B=>U(a,B,[]).push(A)),N.preStyleProps.forEach((B,De)=>{if(B.size){let Z=l.get(De);Z||l.set(De,Z=new Set),B.forEach((gt,bn)=>Z.add(bn))}}),N.postStyleProps.forEach((B,De)=>{let Z=c.get(De);Z||c.set(De,Z=new Set),B.forEach((gt,bn)=>Z.add(bn))})});if(T.length){let p=[];T.forEach(_=>{p.push(vo(_.triggerName,_.errors))}),k.forEach(_=>_.destroy()),this.reportError(p)}let I=new Map,x=new Map;o.forEach(p=>{let _=p.element;n.has(_)&&(x.set(_,_),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,I))}),r.forEach(p=>{let _=p.element;this._getPreviousPlayers(_,!1,p.namespaceId,p.triggerName,null).forEach(A=>{U(I,_,[]).push(A),A.destroy()})});let J=C.filter(p=>No(p,l,c)),Re=new Map;xo(Re,this.driver,D,c,te).forEach(p=>{No(p,l,c)&&J.push(p)});let Pe=new Map;g.forEach((p,_)=>{xo(Pe,this.driver,new Set(p),l,lt)}),J.forEach(p=>{let _=Re.get(p),v=Pe.get(p);Re.set(p,new Map([..._?.entries()??[],...v?.entries()??[]]))});let vn=[],Fi=[],Ri={};o.forEach(p=>{let{element:_,player:v,instruction:A}=p;if(n.has(_)){if(u.has(_)){v.onDestroy(()=>ne(_,A.toStyles)),v.disabled=!0,v.overrideTotalTime(A.totalTime),r.push(v);return}let z=Ri;if(x.size>1){let H=_,be=[];for(;H=H.parentNode;){let N=x.get(H);if(N){z=N;break}be.push(H)}be.forEach(N=>x.set(N,z))}let re=this._buildAnimation(v.namespaceId,A,I,s,Pe,Re);if(v.setRealPlayer(re),z===Ri)vn.push(v);else{let H=this.playersByElement.get(z);H&&H.length&&(v.parentPlayer=ve(H)),r.push(v)}}else Ae(_,A.fromStyles),v.onDestroy(()=>ne(_,A.toStyles)),Fi.push(v),u.has(_)&&r.push(v)}),Fi.forEach(p=>{let _=s.get(p.element);if(_&&_.length){let v=ve(_);p.setRealPlayer(v)}}),r.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<C.length;p++){let _=C[p],v=_[ie];if(He(_,Ht),v&&v.hasAnimation)continue;let A=[];if(a.size){let re=a.get(_);re&&re.length&&A.push(...re);let H=this.driver.query(_,Zt,!0);for(let be=0;be<H.length;be++){let N=a.get(H[be]);N&&N.length&&A.push(...N)}}let z=A.filter(re=>!re.destroyed);z.length?Al(this,_,z):this.processLeaveNode(_)}return C.length=0,vn.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();let _=this.players.indexOf(p);this.players.splice(_,1)}),p.play()}),vn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,s){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!s||s==mt;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(n||r)&&(o=o.filter(a=>!(n&&n!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(t,e,n){let r=e.triggerName,s=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:r;for(let l of e.timelines){let c=l.element,u=c!==s,d=U(n,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(g=>{let m=g.getRealPlayer();m.beforeDestroy&&m.beforeDestroy(),g.destroy(),d.push(g)})}Ae(s,e.fromStyles)}_buildAnimation(t,e,n,r,s,o){let a=e.triggerName,l=e.element,c=[],u=new Set,d=new Set,f=e.timelines.map(m=>{let h=m.element;u.add(h);let C=h[ie];if(C&&C.removedBeforeQueried)return new _e(m.duration,m.delay);let M=h!==l,D=Pl((n.get(h)||El).map(I=>I.getRealPlayer())).filter(I=>{let x=I;return x.element?x.element===h:!1}),F=s.get(h),b=o.get(h),k=ii(this._normalizer,m.keyframes,F,b),T=this._buildPlayer(m,k,D);if(m.subTimeline&&r&&d.add(h),M){let I=new pt(t,a,h);I.setRealPlayer(T),c.push(I)}return T});c.forEach(m=>{U(this.playersByQueriedElement,m.element,[]).push(m),m.onDone(()=>Tl(this.playersByQueriedElement,m.element,m))}),u.forEach(m=>X(m,ci));let g=ve(f);return g.onDestroy(()=>{u.forEach(m=>He(m,ci)),ne(l,e.toStyles)}),d.forEach(m=>{U(r,m,[]).push(g)}),g}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new _e(t.duration,t.delay)}},pt=class{namespaceId;triggerName;element;_player=new _e;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>Gt(t,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){U(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Tl(i,t,e){let n=i.get(t);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&i.delete(t)}return n}function Cl(i){return i??null}function tn(i){return i&&i.nodeType===1}function Ml(i){return i=="start"||i=="done"}function ko(i,t){let e=i.style.display;return i.style.display=t??"none",e}function xo(i,t,e,n,r){let s=[];e.forEach(l=>s.push(ko(l)));let o=[];n.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=t.computeStyle(c,d,r);u.set(d,f),(!f||f.length==0)&&(c[ie]=Sl,o.push(c))}),i.set(c,u)});let a=0;return e.forEach(l=>ko(l,s[a++])),o}function Io(i,t){let e=new Map;if(i.forEach(a=>e.set(a,[])),t.length==0)return e;let n=1,r=new Set(t),s=new Map;function o(a){if(!a)return n;let l=s.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:r.has(c)?l=n:l=o(c),s.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==n&&e.get(l).push(a)}),e}function X(i,t){i.classList?.add(t)}function He(i,t){i.classList?.remove(t)}function Al(i,t,e){ve(e).onDone(()=>i.processLeaveNode(t))}function Pl(i){let t=[];return jo(i,t),t}function jo(i,t){for(let e=0;e<i.length;e++){let n=i[e];n instanceof Ge?jo(n.players,t):t.push(n)}}function Dl(i,t){let e=Object.keys(i),n=Object.keys(t);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let s=e[r];if(!t.hasOwnProperty(s)||i[s]!==t[s])return!1}return!0}function No(i,t,e){let n=e.get(i);if(!n)return!1;let r=t.get(i);return r?n.forEach(s=>r.add(s)):t.set(i,n),e.delete(i),!0}var Ze=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new Ci(t.body,e,n),this._timelineEngine=new Si(t.body,e,n),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,n,r,s){let o=t+"-"+r,a=this._triggerCache[o];if(!a){let l=[],c=[],u=Ro(this._driver,s,l,c);if(l.length)throw lo(r,l);a=pl(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if(n.charAt(0)=="@"){let[s,o]=ri(n),a=r;this._timelineEngine.command(s,e,o,a)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,s){if(n.charAt(0)=="@"){let[o,a]=ri(n);return this._timelineEngine.listen(o,e,a,s)}return this._transitionEngine.listen(t,e,n,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function Ol(i,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=pi(t[0]),t.length>1&&(n=pi(t[t.length-1]))):t instanceof Map&&(e=pi(t)),e||n?new kl(i,e,n):null}var kl=(()=>{class i{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let s=i.initialStylesByElement.get(e);s||i.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ne(this._element,this._initialStyles),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Ae(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ae(this._element,this._endStyles),this._endStyles=null),ne(this._element,this._initialStyles),this._state=3)}}return i})();function pi(i){let t=null;return i.forEach((e,n)=>{xl(n)&&(t=t||new Map,t.set(n,e))}),t}function xl(i){return i==="display"||i==="position"}var cn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&t.set(r,this._finished?n:Xt(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},dn=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return si(t,e)}getParentElement(t){return Wt(t)}query(t,e,n){return oi(t,e,n)}computeStyle(t,e,n){return Xt(t,e)}animate(t,e,n,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:n,delay:r,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(g=>g instanceof cn);So(n,r)&&u.forEach(g=>{g.currentSnapshot.forEach((m,h)=>c.set(h,m))});let d=wo(e).map(g=>new Map(g));d=To(t,d,c);let f=Ol(t,d);return new cn(t,d,l,f)}};var nn="@",Vo="@.disabled",un=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,r){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n,r){if(r){this.delegate.removeChild(t,e,n);return}this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==nn&&e==Vo?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.delegate.listen(t,e,n,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Mi=class extends un{factory;constructor(t,e,n,r,s){super(e,n,r,s),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==nn?e.charAt(1)=="."&&e==Vo?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,r){if(e.charAt(0)==nn){let s=Il(t),o=e.slice(1),a="";return o.charAt(0)!=nn&&([o,a]=Nl(o)),this.engine.listen(this.namespaceId,s,o,a,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,n,l)})}return this.delegate.listen(t,e,n,r)}};function Il(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}function Nl(i){let t=i.indexOf("."),e=i.substring(0,t),n=i.slice(t+1);return[e,n]}var mn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(t,e){let r=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(r);if(!u){let d=()=>c.delete(r);u=new un("",r,this.engine,d),c.set(r,u)}return u}let s=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,t,c.name,c)};return e.data.animation.forEach(a),new Mi(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var Rl=(()=>{class i extends Ze{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||i)(R(Te),R(Ne),R(Fe))};static \u0275prov=K({token:i,factory:i.\u0275fac})}return i})();function zl(){return new rn}function Ll(i,t,e){return new mn(i,t,e)}var Ko=[{provide:Fe,useFactory:zl},{provide:Ze,useClass:Rl},{provide:ir,useFactory:Ll,deps:[hr,Ze,le]}],fd=[{provide:Ne,useClass:Ai},{provide:Mn,useValue:"NoopAnimations"},...Ko],Bl=[{provide:Ne,useFactory:()=>new dn},{provide:Mn,useFactory:()=>"BrowserAnimations"},...Ko];function $o(){return rr("NgEagerAnimations"),[...Bl]}var hn=class i{actions$=y(Rt);service=y(Lr);store=y(Ke);search$=Ft(()=>this.actions$.pipe(zt(Ir),_t(this.store.select(Br)),Je(([{query:t},e])=>this.service.search(t,e).pipe(j(n=>Nr({results:n})),ze(n=>Xe(Fr({error:n?.message??"Search failed"})))))));static \u0275fac=function(e){return new(e||i)};static \u0275prov=K({token:i,factory:i.\u0275fac})};var Di=(i,t)=>{let e=y(kt),n=y(Ot);return e.isAuthenticated()?!0:n.createUrlTree(["/auth"],{queryParams:{redirectUrl:t.url}})};var qo=[{path:"",redirectTo:"/scholar-graph",pathMatch:"full"},{path:"auth",loadComponent:()=>import("./chunk-7TXDMWE5.js").then(i=>i.AuthComponent)},{path:"scholar-graph",loadComponent:()=>import("./chunk-SU35N3Q6.js").then(i=>i.ScholarGraphComponent),providers:[Mr(Rr,zr),Lt([hn])]},{path:"scholar-graph/:source/:id",loadComponent:()=>import("./chunk-UIUGDQSM.js").then(i=>i.PaperDetailComponent)},{path:"library",loadComponent:()=>import("./chunk-BS5JF44E.js").then(i=>i.LibraryComponent)},{path:"paper-pilot",loadComponent:()=>import("./chunk-PNUUD55O.js").then(i=>i.PaperPilotComponent)},{path:"lab-sync",loadComponent:()=>import("./chunk-A4XIAZLQ.js").then(i=>i.LabSyncComponent),canActivate:[Di]},{path:"grant-ai",loadComponent:()=>import("./chunk-S4D5FLFE.js").then(i=>i.GrantAiComponent)},{path:"meta-lab",loadComponent:()=>import("./chunk-DVPRITIW.js").then(i=>i.MetaLabComponent)},{path:"data-verse",loadComponent:()=>import("./chunk-PTJQBC3J.js").then(i=>i.DataVerseComponent)},{path:"edu-forge",loadComponent:()=>import("./chunk-CE7UIB3R.js").then(i=>i.EduForgeComponent)},{path:"trust-layer",loadComponent:()=>import("./chunk-2ZDE77JV.js").then(i=>i.TrustLayerComponent)},{path:"global-knowledge-bridge",loadComponent:()=>import("./chunk-37XZTGSD.js").then(i=>i.GlobalKnowledgeBridgeComponent)},{path:"omni-ai",loadComponent:()=>import("./chunk-EKWPFGTD.js").then(i=>i.OmniAiComponent),canActivate:[Di]},{path:"**",redirectTo:"/scholar-graph"}];var Qo={providers:[tr(),lr(),xr(qo),pr(yr(),gr()),$o(),Ar({app:qs}),Lt([Qt]),Vs({maxAge:25,logOnly:!cr()})]};var gn=["*"],Vl=["content"],Kl=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$l=["mat-drawer","mat-drawer-content","*"];function ql(i,t){if(i&1){let e=it();w(0,"div",1),Me("click",function(){Ee(e);let r=rt();return Se(r._onBackdropClicked())}),E()}if(i&2){let e=rt();Y("mat-drawer-shown",e._isShowingBackdrop())}}function Ql(i,t){i&1&&(w(0,"mat-drawer-content"),G(1,2),E())}var Gl=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ul=["mat-sidenav","mat-sidenav-content","*"];function Wl(i,t){if(i&1){let e=it();w(0,"div",1),Me("click",function(){Ee(e);let r=rt();return Se(r._onBackdropClicked())}),E()}if(i&2){let e=rt();Y("mat-drawer-shown",e._isShowingBackdrop())}}function Hl(i,t){i&1&&(w(0,"mat-sidenav-content"),G(1,2),E())}var Zl=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var Yl=new ae("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:Xl}),xi=new ae("MAT_DRAWER_CONTAINER");function Xl(){return!1}var fn=(()=>{class i extends qe{_platform=y($e);_changeDetectorRef=y(Mt);_container=y(ki);constructor(){let e=y(Ce),n=y(es),r=y(le);super(e,n,r)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:n}=this._container;return e!=null&&e.mode!=="over"&&e.opened||n!=null&&n.mode!=="over"&&n.opened}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Q({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(n,r){n&2&&(Ct("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px"),Y("mat-drawer-content-hidden",r._shouldBeHidden()))},features:[Ve([{provide:qe,useExisting:i}]),et],ngContentSelectors:gn,decls:1,vars:0,template:function(n,r){n&1&&(fe(),G(0))},encapsulation:2,changeDetection:0})}return i})(),Oi=(()=>{class i{_elementRef=y(Ce);_focusTrapFactory=y($r);_focusMonitor=y(jr);_platform=y($e);_ngZone=y(le);_renderer=y(wt);_interactivityChecker=y(xt);_doc=y(Te);_container=y(xi,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ke(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=ke(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened()}set opened(e){this.toggle(ke(e))}_opened=Be(!1);_openedVia;_animationStarted=new oe;_animationEnd=new oe;openedChange=new Tt(!0);_openedStream=this.openedChange.pipe(V(e=>e),j(()=>{}));openedStart=this._animationStarted.pipe(V(()=>this.opened),En(void 0));_closedStream=this.openedChange.pipe(V(e=>!e),j(()=>{}));closedStart=this._animationStarted.pipe(V(()=>!this.opened),En(void 0));_destroyed=new oe;onPositionChanged=new Tt;_content;_modeChanged=new oe;_injector=y(Cn);_changeDetectorRef=y(Mt);constructor(){this.openedChange.pipe(q(this._destroyed)).subscribe(e=>{e?(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement,this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;qi(e,"keydown").pipe(V(n=>n.keyCode===27&&!this.disableClose&&!Gr(n)),q(this._destroyed)).subscribe(n=>this._ngZone.run(()=>{this.close(),n.stopPropagation(),n.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this.opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{s(),o(),e.removeAttribute("tabindex")},s=this._renderer.listen(e,"blur",r),o=this._renderer.listen(e,"mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":Pn(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return e===this.opened?Promise.resolve(e?"open":"close"):(this._opened.set(e),this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&n&&this._restoreFocus(r),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Le(1)).subscribe(o=>s(o?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,r=n.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}_handleTransitionEvent=e=>{let n=this._elementRef.nativeElement;e.target===n&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Q({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(n&1&&On(Vl,5),n&2){let s;pe(s=ge())&&(r._content=s.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){n&2&&(Dn("align",null)("tabIndex",r.mode!=="side"?"-1":null),Ct("visibility",!r._container&&!r.opened?"hidden":null),Y("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:gn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(fe(),w(0,"div",1,0),G(2),E())},dependencies:[qe],encapsulation:2,changeDetection:0})}return i})(),ki=(()=>{class i{_dir=y(Wr,{optional:!0});_element=y(Ce);_ngZone=y(le);_changeDetectorRef=y(Mt);_animationDisabled=It();_transitionsEnabled=!1;_allDrawers;_drawers=new nr;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ke(e)}_autosize=y(Yl);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:ke(e)}_backdropOverride;backdropClick=new Tt;_start;_end;_left;_right;_destroyed=new oe;_doCheckSubject=new oe;_contentMargins={left:null,right:null};_contentMarginChanges=new oe;get scrollable(){return this._userContent||this._content}_injector=y(Cn);constructor(){let e=y($e),n=y(ts);this._dir?.change.pipe(q(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),n.change().pipe(q(this._destroyed)).subscribe(()=>this.updateContentMargins()),!this._animationDisabled&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(Tn(this._allDrawers),q(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Tn(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(yt(10),q(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,n-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();n+=r,e-=r}}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(q(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(q(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(q(this._drawers.changes)).subscribe(()=>{Pn({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(q(we(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Q({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(n&1&&(Oe(s,fn,5),Oe(s,Oi,5)),n&2){let o;pe(o=ge())&&(r._content=o.first),pe(o=ge())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(n&1&&On(fn,5),n&2){let s;pe(s=ge())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){n&2&&Y("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ve([{provide:xi,useExisting:i}])],ngContentSelectors:$l,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(fe(Kl),tt(0,ql,1,2,"div",0),G(1),G(2,1),tt(3,Ql,2,0,"mat-drawer-content")),n&2&&(nt(r.hasBackdrop?0:-1),$(3),nt(r._content?-1:3))},dependencies:[fn],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return i})(),pn=(()=>{class i extends fn{static \u0275fac=(()=>{let e;return function(r){return(e||(e=je(i)))(r||i)}})();static \u0275cmp=Q({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[Ve([{provide:qe,useExisting:i}]),et],ngContentSelectors:gn,decls:1,vars:0,template:function(n,r){n&1&&(fe(),G(0))},encapsulation:2,changeDetection:0})}return i})(),Ii=(()=>{class i extends Oi{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=ke(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Rn(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Rn(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=je(i)))(r||i)}})();static \u0275cmp=Q({type:i,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(n,r){n&2&&(Dn("tabIndex",r.mode!=="side"?"-1":null)("align",null),Ct("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Y("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[Ve([{provide:Oi,useExisting:i}]),et],ngContentSelectors:gn,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(fe(),w(0,"div",1,0),G(2),E())},dependencies:[qe],encapsulation:2,changeDetection:0})}return i})(),Go=(()=>{class i extends ki{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(r){return(e||(e=je(i)))(r||i)}})();static \u0275cmp=Q({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,s){if(n&1&&(Oe(s,pn,5),Oe(s,Ii,5)),n&2){let o;pe(o=ge())&&(r._content=o.first),pe(o=ge())&&(r._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){n&2&&Y("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ve([{provide:xi,useExisting:i},{provide:ki,useExisting:i}]),et],ngContentSelectors:Ul,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(fe(Gl),tt(0,Wl,1,2,"div",0),G(1),G(2,1),tt(3,Hl,2,0,"mat-sidenav-content")),n&2&&(nt(r.hasBackdrop?0:-1),$(3),nt(r._content?-1:3))},dependencies:[pn],styles:[Zl],encapsulation:2,changeDetection:0})}return i})(),Uo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=me({imports:[ye,zn,zn,ye]})}return i})();var ec=["*",[["mat-toolbar-row"]]],tc=["*","mat-toolbar-row"],nc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275dir=Et({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return i})(),Wo=(()=>{class i{_elementRef=y(Ce);_platform=y($e);_document=y(Te);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Q({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(n&1&&Oe(s,nc,5),n&2){let o;pe(o=ge())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){n&2&&(sr(r.color?"mat-"+r.color:""),Y("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:tc,decls:2,vars:0,template:function(n,r){n&1&&(fe(ec),G(0),G(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return i})();var Ho=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=me({imports:[ye,ye]})}return i})();var Zo="mat-badge-content",rc=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275cmp=Q({type:i,selectors:[["ng-component"]],decls:0,vars:0,template:function(n,r){},styles:[`.mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}
`],encapsulation:2,changeDetection:0})}return i})(),Yo=(()=>{class i{_ngZone=y(le);_elementRef=y(Ce);_ariaDescriber=y(Ur);_renderer=y(wt);_animationsDisabled=It();_idGenerator=y(Qr);get color(){return this._color}set color(e){this._setColor(e),this._color=e}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(e){this._updateRenderedContent(e)}_content;get description(){return this._description}set description(e){this._updateDescription(e)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=y(xt);_document=y(Te);constructor(){let e=y(Vr);e.load(rc),e.load(Kr)}isAbove(){return this.position.indexOf("below")===-1}isAfter(){return this.position.indexOf("before")===-1}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){let e=this._renderer.createElement("span"),n="mat-badge-active";return e.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),e.setAttribute("aria-hidden","true"),e.classList.add(Zo),this._animationsDisabled&&e.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(e),typeof requestAnimationFrame=="function"&&!this._animationsDisabled?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e.classList.add(n)})}):e.classList.add(n),e}_updateRenderedContent(e){let n=`${e??""}`.trim();this._isInitialized&&n&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=n),this._content=n}_updateDescription(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!e||this._isHostInteractive())&&this._removeInlineDescription(),this._description=e,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,e):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(e){let n=this._elementRef.nativeElement.classList;n.remove(`mat-badge-${this._color}`),e&&n.add(`mat-badge-${e}`)}_clearExistingBadges(){let e=this._elementRef.nativeElement.querySelectorAll(`:scope > .${Zo}`);for(let n of Array.from(e))n!==this._badgeElement&&n.remove()}static \u0275fac=function(n){return new(n||i)};static \u0275dir=Et({type:i,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(n,r){n&2&&Y("mat-badge-overlap",r.overlap)("mat-badge-above",r.isAbove())("mat-badge-below",!r.isAbove())("mat-badge-before",!r.isAfter())("mat-badge-after",r.isAfter())("mat-badge-small",r.size==="small")("mat-badge-medium",r.size==="medium")("mat-badge-large",r.size==="large")("mat-badge-hidden",r.hidden||!r.content)("mat-badge-disabled",r.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",At],disabled:[2,"matBadgeDisabled","disabled",At],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",At]}})}return i})(),Xo=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=he({type:i});static \u0275inj=me({imports:[qr,ye,ye]})}return i})();var ac=()=>["/auth"];function lc(i,t){if(i&1&&(w(0,"a",30)(1,"mat-icon",31),O(2),E(),w(3,"span",32),O(4),E()()),i&2){let e=t.$implicit;ee("routerLink",e.route)("matTooltip",e.description),$(2),xn(e.icon),$(2),xn(e.name)}}function cc(i,t){if(i&1&&(w(0,"span"),O(1),E()),i&2){let e=t.ngIf;$(),or(" ",e.name," ")}}function dc(i,t){i&1&&(w(0,"span"),O(1,"Guest"),E())}function uc(i,t){i&1&&(w(0,"div",33)(1,"a",34)(2,"mat-icon"),O(3,"login"),E(),w(4,"span"),O(5,"Sign in"),E()()()),i&2&&($(),ee("routerLink",ar(1,ac)))}var yn=class i{constructor(t,e){this.authService=t;this.router=e}sidenavOpened=Be(!0);modules=[{id:"scholar-graph",name:"ScholarGraph",icon:"search",route:"/scholar-graph",description:"AI-powered research discovery"},{id:"library",name:"Library",icon:"bookmarks",route:"/library",description:"Saved papers collection"},{id:"paper-pilot",name:"PaperPilot",icon:"description",route:"/paper-pilot",description:"Literature review assistant"},{id:"lab-sync",name:"LabSync",icon:"chat",route:"/lab-sync",description:"Real-time collaboration"},{id:"grant-ai",name:"GrantAI",icon:"attach_money",route:"/grant-ai",description:"Funding finder"},{id:"meta-lab",name:"MetaLab",icon:"science",route:"/meta-lab",description:"Reproducibility tracker"},{id:"data-verse",name:"DataVerse",icon:"bar_chart",route:"/data-verse",description:"Data visualization"},{id:"edu-forge",name:"EduForge",icon:"school",route:"/edu-forge",description:"Learning & mentorship"},{id:"trust-layer",name:"TrustLayer",icon:"verified",route:"/trust-layer",description:"Verification & provenance"},{id:"global-knowledge-bridge",name:"GlobalKnowledgeBridge",icon:"translate",route:"/global-knowledge-bridge",description:"Cross-language research"},{id:"omni-ai",name:"OmniAI Copilot",icon:"smart_toy",route:"/omni-ai",description:"AI research assistant"}];toggleSidenav(){this.sidenavOpened.set(!this.sidenavOpened())}navigateTo(t){this.router.navigate([t])}logout(){this.authService.logout(),this.router.navigate(["/auth"])}goToProfile(){this.router.navigate(["/profile"])}goToSettings(){this.router.navigate(["/settings"])}static \u0275fac=function(e){return new(e||i)(An(kt),An(Ot))};static \u0275cmp=Q({type:i,selectors:[["app-shell"]],decls:79,vars:9,consts:[["sidenav",""],["notificationsMenu","matMenu"],["userMenu","matMenu"],[1,"sidenav-container"],[1,"sidenav",3,"opened","mode"],[1,"sidenav-header"],[1,"logo-container"],[1,"logo-icon"],[1,"logo-text"],[1,"tagline"],[1,"nav-list"],["mat-list-item","","routerLinkActive","active","class","nav-item","matTooltipPosition","right",3,"routerLink","matTooltip",4,"ngFor","ngForOf"],[1,"sidenav-footer"],[1,"user-info"],[4,"ngIf"],["class","auth-cta",4,"ngIf"],[1,"main-content"],["color","primary",1,"toolbar"],["mat-icon-button","","aria-label","Toggle sidenav",3,"click"],[1,"toolbar-spacer"],[1,"search-container"],[1,"search-icon"],["type","text","placeholder","Search across all modules...",1,"search-input"],["mat-icon-button","","aria-label","Notifications",3,"matMenuTriggerFor"],["matBadgeColor","warn",3,"matBadge"],[1,"notification-header"],["mat-menu-item",""],["mat-icon-button","","aria-label","User menu",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],[1,"content-container"],["mat-list-item","","routerLinkActive","active","matTooltipPosition","right",1,"nav-item",3,"routerLink","matTooltip"],["matListItemIcon",""],["matListItemTitle",""],[1,"auth-cta"],["mat-stroked-button","","color","primary",3,"routerLink"]],template:function(e,n){if(e&1){let r=it();w(0,"mat-sidenav-container",3)(1,"mat-sidenav",4,0)(3,"div",5)(4,"div",6)(5,"mat-icon",7),O(6,"hub"),E(),w(7,"h2",8),O(8,"OmniScholar"),E()(),w(9,"p",9),O(10,"The Angular-powered Research Universe"),E()(),w(11,"mat-nav-list",10),St(12,lc,5,4,"a",11),E(),w(13,"div",12),ce(14,"mat-divider"),w(15,"div",13)(16,"mat-icon"),O(17,"account_circle"),E(),St(18,cc,2,1,"span",14)(19,dc,2,0,"span",14),E(),St(20,uc,6,2,"div",15),E()(),w(21,"mat-sidenav-content",16)(22,"mat-toolbar",17)(23,"button",18),Me("click",function(){return Ee(r),Se(n.toggleSidenav())}),w(24,"mat-icon"),O(25,"menu"),E()(),ce(26,"span",19),w(27,"div",20)(28,"mat-icon",21),O(29,"search"),E(),ce(30,"input",22),E(),ce(31,"span",19),w(32,"button",23)(33,"mat-icon",24),O(34,"notifications"),E()(),w(35,"mat-menu",null,1)(37,"div",25)(38,"h3"),O(39,"Notifications"),E()(),ce(40,"mat-divider"),w(41,"button",26)(42,"mat-icon"),O(43,"info"),E(),w(44,"span"),O(45,"New paper matching your interests"),E()(),w(46,"button",26)(47,"mat-icon"),O(48,"chat"),E(),w(49,"span"),O(50,"Team message in LabSync"),E()(),w(51,"button",26)(52,"mat-icon"),O(53,"attach_money"),E(),w(54,"span"),O(55,"Grant deadline approaching"),E()()(),w(56,"button",27)(57,"mat-icon"),O(58,"account_circle"),E()(),w(59,"mat-menu",null,2)(61,"button",28),Me("click",function(){return Ee(r),Se(n.goToProfile())}),w(62,"mat-icon"),O(63,"person"),E(),w(64,"span"),O(65,"Profile"),E()(),w(66,"button",28),Me("click",function(){return Ee(r),Se(n.goToSettings())}),w(67,"mat-icon"),O(68,"settings"),E(),w(69,"span"),O(70,"Settings"),E()(),ce(71,"mat-divider"),w(72,"button",28),Me("click",function(){return Ee(r),Se(n.logout())}),w(73,"mat-icon"),O(74,"logout"),E(),w(75,"span"),O(76,"Logout"),E()()()(),w(77,"div",29),ce(78,"router-outlet"),E()()()}if(e&2){let r=kn(36),s=kn(60);$(),ee("opened",n.sidenavOpened())("mode","side"),$(11),ee("ngForOf",n.modules),$(6),ee("ngIf",n.authService.currentUser()),$(),ee("ngIf",!n.authService.currentUser()),$(),ee("ngIf",!n.authService.currentUser()),$(12),ee("matMenuTriggerFor",r),$(),ee("matBadge",3),$(23),ee("matMenuTriggerFor",s)}},dependencies:[mr,dr,ur,Dr,Or,kr,Uo,Ii,Go,pn,Ho,Wo,fs,hs,ms,us,ls,ds,Jr,Xr,Yr,Zr,Hr,ss,is,ns,rs,Xo,Yo,cs,as,os],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100vh;width:100%}.sidenav[_ngcontent-%COMP%]{width:280px;background:var(--omni-surface);border-right:1px solid var(--omni-border)}.sidenav[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]{padding:var(--spacing-lg);background:linear-gradient(135deg,var(--omni-primary) 0%,var(--omni-primary-dark) 100%);color:#fff}.sidenav[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);margin-bottom:var(--spacing-xs)}.sidenav[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:32px;width:32px;height:32px}.sidenav[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .logo-container[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:600}.sidenav[_ngcontent-%COMP%]   .sidenav-header[_ngcontent-%COMP%]   .tagline[_ngcontent-%COMP%]{margin:0;font-size:12px;opacity:.9;font-weight:300}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]{padding:var(--spacing-md) 0}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:var(--spacing-xs) var(--spacing-sm);border-radius:8px;transition:all var(--transition-normal);cursor:pointer;display:flex;align-items:center;gap:var(--spacing-sm);padding:10px 14px}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover{background:var(--omni-hover)}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{background:var(--omni-primary-light);color:var(--omni-primary)}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--omni-primary)}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .mat-mdc-list-item-title[_ngcontent-%COMP%], .sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   span[matListItemTitle][_ngcontent-%COMP%]{color:var(--omni-primary-dark)}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--omni-text-secondary);margin-right:var(--spacing-sm);flex-shrink:0;font-size:22px}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .mat-mdc-list-item-unscoped-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm)}.sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .mat-mdc-list-item-title[_ngcontent-%COMP%], .sidenav[_ngcontent-%COMP%]   .nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   span[matListItemTitle][_ngcontent-%COMP%]{font-size:15px;font-weight:600;color:var(--omni-text-primary);letter-spacing:.2px}.sidenav[_ngcontent-%COMP%]   .sidenav-footer[_ngcontent-%COMP%]{position:absolute;bottom:0;width:100%;padding:var(--spacing-md);background:var(--omni-surface)}.sidenav[_ngcontent-%COMP%]   .sidenav-footer[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:var(--spacing-sm);padding:var(--spacing-sm);border-radius:8px;background:var(--omni-background)}.sidenav[_ngcontent-%COMP%]   .sidenav-footer[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--omni-primary)}.sidenav[_ngcontent-%COMP%]   .sidenav-footer[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;font-weight:500;color:var(--omni-text-primary)}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background:var(--omni-background)}.toolbar[_ngcontent-%COMP%]{box-shadow:var(--shadow-sm);z-index:10}.toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff26;border-radius:24px;padding:var(--spacing-xs) var(--spacing-md);width:400px;transition:all var(--transition-normal)}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]:focus-within{background:#ffffff40;box-shadow:var(--shadow-md)}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{color:#ffffffb3;margin-right:var(--spacing-sm)}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{border:none;background:transparent;color:#fff;outline:none;font-size:14px;width:100%}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:#fff9}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:var(--spacing-sm)}.notification-header[_ngcontent-%COMP%]{padding:var(--spacing-md) var(--spacing-lg)}.notification-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:var(--omni-text-primary)}.content-container[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:var(--spacing-lg);background:var(--omni-background)}@media (max-width: 768px){.sidenav[_ngcontent-%COMP%]{width:240px}.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{width:200px}}@media (max-width: 480px){.toolbar[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{display:none}}"]})};var _n=class i{title=Be("omni-scholar-app");static \u0275fac=function(e){return new(e||i)};static \u0275cmp=Q({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){e&1&&ce(0,"app-shell")},dependencies:[yn],encapsulation:2})};fr(_n,Qo).catch(i=>console.error(i));
