import{a as se,b as ce}from"./chunk-KPFEFPRB.js";import{A as Rt,B as Pt,C as Ut,D as Bt,E as Lt,F as Ft,n as Dt,s as st,t as ct,w as Nt,z as Y}from"./chunk-W7QCJ7AO.js";import{a as de}from"./chunk-2XQWBQAH.js";import{c as zt}from"./chunk-ATMNL5DF.js";import{b as ae,c as oe}from"./chunk-VFLIPPCG.js";import{c as ue,e as le,f as pe}from"./chunk-EFEQEXYV.js";import{b as ie,h as ne,i as re}from"./chunk-2YBT2QW4.js";import{b as Gt,f as Ht,g as Vt,h as Wt,i as jt,j as Kt,o as Yt,p as $t}from"./chunk-MQIBGHLO.js";import{a as Jt,b as qt,c as Zt,d as Xt,f as Qt,h as te,i as ee}from"./chunk-362ZF37V.js";import{$b as W,Ba as R,Bb as d,C as G,Cb as s,Db as a,Dc as j,Eb as z,Ga as I,I as ft,Ib as bt,Ic as kt,Jb as Ct,Lb as w,Nb as S,Nc as Ot,Oa as ot,Oc as K,P as gt,Pa as _t,Pb as m,Ta as It,Uc as A,Va as c,Za as H,Zb as yt,_b as V,_d as $,a as f,ac as Tt,ae as J,b as F,bc as u,be as q,cc as _,ce as Z,dc as k,eb as g,ec as Mt,gb as b,gc as At,hc as xt,i as dt,ia as ht,ic as Et,jb as E,kb as T,kc as wt,nb as St,oa as p,p as at,qa as l,ta as vt,u as mt,ub as M,va as h,vb as P,vc as C,wa as v,wb as U,wc as B}from"./chunk-SGQIVBNU.js";function Le(e,t){if(e&1&&(s(0,"p",2),u(1),a()),e&2){let i=m();c(),_(i.message)}}var X=class e{diameter=50;strokeWidth=4;color="primary";message;fullscreen=!1;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=g({type:e,selectors:[["app-loading-spinner"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth",color:"color",message:"message",fullscreen:"fullscreen"},decls:3,vars:6,consts:[[1,"loading-spinner-container"],[3,"diameter","strokeWidth","color"],[1,"loading-message"]],template:function(i,n){i&1&&(s(0,"div",0),z(1,"mat-spinner",1),P(2,Le,2,1,"p",2),a()),i&2&&(W("fullscreen",n.fullscreen),c(),d("diameter",n.diameter)("strokeWidth",n.strokeWidth)("color",n.color),c(),U(n.message?2:-1))},dependencies:[A,ce,se],styles:[".loading-spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;gap:1rem}.loading-spinner-container.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffe6;z-index:9999}.loading-message[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009;font-weight:500}"]})};function He(e,t){if(e&1&&(s(0,"h4",4),u(1),a()),e&2){let i=m();c(),_(i.title)}}function Ve(e,t){if(e&1){let i=w();s(0,"button",7),S("click",function(){h(i);let r=m();return v(r.onRetry())}),s(1,"mat-icon"),u(2,"refresh"),a(),u(3," Retry "),a()}}var Q=class e{type="error";title;message="An error occurred";showRetry=!1;onRetryClick;getIcon(){switch(this.type){case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"error"}}onRetry(){this.onRetryClick&&this.onRetryClick()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=g({type:e,selectors:[["app-error-message"]],inputs:{type:"type",title:"title",message:"message",showRetry:"showRetry",onRetryClick:"onRetryClick"},decls:9,vars:6,consts:[[1,"error-message"],[1,"error-content"],[1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-description"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","primary",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1)(2,"mat-icon",2),u(3),a(),s(4,"div",3),P(5,He,2,1,"h4",4),s(6,"p",5),u(7),a()()(),P(8,Ve,4,0,"button",6),a()),i&2&&(Tt(n.type),c(3),k(" ",n.getIcon()," "),c(2),U(n.title?5:-1),c(2),_(n.message),c(),U(n.showRetry?8:-1))},dependencies:[A,Z,q,J,$],styles:[".error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;border-radius:8px;border:1px solid;margin:1rem 0}.error-message.error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#fca5a5;color:#991b1b}.error-message.warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#fcd34d;color:#92400e}.error-message.info[_ngcontent-%COMP%]{background:#eff6ff;border-color:#93c5fd;color:#1e40af}.error-content[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.error-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:24px;width:24px;height:24px}.error-text[_ngcontent-%COMP%]{flex:1}.error-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:16px;font-weight:600}.error-description[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.5}"]})};var fe=parseInt(ht.major,10)>=19?{}:{allowSignalWrites:!0},me={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},Pi=new _t;var Ui=F(f({},me),{toJSON:()=>me});function tt(e){return typeof e=="string"}function ge(e,t,i=!1){return{provide:e,useExisting:t,multi:i}}function D(e,t,i){return{provide:e,useFactory:()=>f(f({},l(e,{optional:!0,skipSelf:!0})||i),l(t,{optional:!0})||(typeof t=="function"?t():t))}}var je=new p("",{factory:()=>{let e=new Map;return l(R).onDestroy(()=>e.forEach(t=>t.destroy())),e}});function N(e){let t=l(je),i=l(vt);t.has(e)||t.set(e,kt(e,{environmentInjector:i}))}function et(e){let t=new p("",{factory:()=>e});return[t,i=>D(t,i,e)]}function it(){return l(ot).nativeElement}var Ye={cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"]},$e={colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",insertGroup:"Insert group",hiliteGroup:"Hilite group",removeGroup:"Remove group",insertAnchor:"Insert anchor",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns",cellColor:"Cell color",setDetails:"Details",removeDetails:"Remove details"},editorEditLink:{urlExample:"example.com",anchorExample:"anchor"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{small:"Small",large:"Large",normal:"Normal",title:"Title",subtitle:"Subtitle"}},Je={showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"}},qe={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua & Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AR:"Argentina",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia & Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"St. Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo - Kinshasa",CF:"Central African Republic",CG:"Congo - Brazzaville",CH:"Switzerland",CI:"C\xF4te d\u2019Ivoire",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xE7ao",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KM:"Comoros",KN:"St. Kitts & Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"St. Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"St. Martin",MG:"Madagascar",MK:"North Macedonia",ML:"Mali",MM:"Myanmar (Burma)",MN:"Mongolia",MO:"Macao",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"St. Helena",SI:"Slovenia",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",ST:"S\xE3o Tom\xE9 & Pr\xEDncipe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks & Caicos Islands",TD:"Chad",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"T\xFCrkiye",TT:"Trinidad & Tobago",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"St. Vincent & Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",AC:"Ascension Island",AS:"American Samoa",AX:"\xC5land Islands",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",CX:"Christmas Island",EH:"Western Sahara",FO:"Faroe Islands",GG:"Guernsey",GU:"Guam",IM:"Isle of Man",JE:"Jersey",IO:"British Indian Ocean Territory",KI:"Kiribati",MH:"Marshall Islands",MP:"Northern Mariana Islands",NF:"Norfolk Island",NR:"Nauru",NU:"Niue",PM:"Saint Pierre and Miquelon",PR:"Puerto Rico",PS:"Palestine",SJ:"Svalbard and Jan Mayen",SS:"South Sudan",TA:"Tristan da Cunha",TK:"Tokelau",TV:"Tuvalu",VA:"Holy See",VI:"Virgin Islands",WF:"Wallis and Futuna"},Ze={months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",clear:"Clear",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:qe},Xe={cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",showAll:"Show all",hide:"Hide",mobileCalendarTexts:["Choose day","Choose range","Choose days"],range:["from","to"],countTexts:["Plus","Minus"],time:{"MM:SS":"MM:SS","HH:MM":"HH:MM","HH:MM AA":"HH:MM AA","HH:MM:SS":"HH:MM:SS","HH:MM:SS AA":"HH:MM:SS AA","HH:MM:SS.MSS":"HH:MM:SS.MSS","HH:MM:SS.MSS AA":"HH:MM:SS.MSS AA","HH AA":"HH AA",HH:"HH","MM:SS.MSS":"MM:SS.MSS","MM.SS.MSS":"MM.SS.MSS","SS.MSS":"SS.MSS"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KiB","MiB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Upload failed",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drop\xA0it\xA0here",defaultLabelMultiple:"or drop\xA0them\xA0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File is larger than",formatRejectionReason:"Wrong file type",drop:"Drop file here",dropMultiple:"Drop files here"},multiSelectTexts:{all:"Select all",none:"Select none"},confirm:{yes:"Yes",no:"No"},previewTexts:{rotate:"Rotate"},zoomTexts:{zoomOut:"Zoom out",zoomIn:"Zoom in",reset:"Reset"},phoneSearch:"Type country or code"},Qe={inputSearch:{popular:"Popular",history:"Recent",placeholder:"Type query",hotkey:"to search",all:"All",empty:"Nothing found"}},he=f(f(f(f(f(f({name:"english"},Ze),Xe),Je),Ye),$e),Qe);var ve=new p("",{factory:()=>he}),_e=new p("",{factory:()=>at(l(ve))});function x(e){return()=>l(_e).pipe(mt(t=>t[e]))}var ti=new p("",{factory:()=>"assets/taiga-ui/icons"});var _n=new p("",{factory:x("months")}),In=new p("",{factory:x("close")}),Sn=new p("",{factory:x("clear")}),bn=new p("",{factory:x("nothingFoundMessage")}),Cn=new p("",{factory:x("defaultErrorMessage")}),yn=new p("",{factory:x("spinTexts")}),Tn=new p("",{factory:x("shortWeekDays")}),Ie=new p("",{factory:()=>""}),Se=new p("",{factory:()=>""}),ei=new p("",{factory:()=>({})});var lt={font:"@font.",image:"@img."},ii=new p("",{factory:()=>{let e=l(ti);return t=>`${e}/${t.replace(/@[a-zA-Z]+\./,"").split(".").join("/")}.svg`}});function L(e){return e?e.startsWith(lt.image)?"image":e.startsWith(lt.font)?"font":"svg":null}function be(){let e=l(ei),t=l(ii);return i=>!i||i.includes("/")?i:L(i)==="font"?i.slice(lt.font.length):e[i]??t(i)}var Ce=(()=>{let t=class t{constructor(){let n=it();l(St).runOutsideAngular(()=>{setTimeout(()=>{n.style.transition=""})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,selectors:[["","tuiTransitioned",""]],hostVars:2,hostBindings:function(r,o){r&2&&V("transition","none")}});let e=t;return e})();var ri={appearance:""},ye=new p("",{factory:()=>ri});function Te(e){return ge(ye,e)}var ai=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-appearance"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiAppearance]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;-webkit-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem;transition-property:color,background-color,opacity,box-shadow,border-color,border-radius,filter}[tuiAppearance]:before,[tuiAppearance]:after{transition-duration:inherit;transition-timing-function:ease-in-out}[tuiAppearance]:focus-visible:not([data-focus=false]){outline-color:var(--tui-border-focus)}[tuiAppearance][data-focus=true]{outline-color:var(--tui-border-focus)}[tuiAppearance][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][tuiWrapper]._focused{outline-color:var(--tui-border-focus)}[tuiAppearance]:disabled:not([data-state]),[tuiAppearance][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}[tuiAppearance][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][tuiWrapper][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),oi=(()=>{let t=class t{constructor(){this.cdr=l(j,{skipSelf:!0}),this.el=it(),this.nothing=N(ai),this.modes=C((n=this.mode())=>!n||tt(n)?n:n.join(" ")),this.appearance=I(l(ye).appearance),this.state=I(null),this.focus=I(null),this.mode=I(null),this.update=B(()=>{this.mode(),this.state(),this.focus(),this.el.matches("tui-textfield[multi]")&&this.cdr.detectChanges()},fe)}set tuiAppearance(n){this.appearance.set(n)}set tuiAppearanceState(n){this.state.set(n)}set tuiAppearanceFocus(n){this.focus.set(n)}set tuiAppearanceMode(n){this.mode.set(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,selectors:[["","tuiAppearance",""]],hostAttrs:["tuiAppearance",""],hostVars:4,hostBindings:function(r,o){r&2&&M("data-appearance",o.appearance())("data-state",o.state())("data-focus",o.focus())("data-mode",o.modes())},inputs:{tuiAppearance:"tuiAppearance",tuiAppearanceState:"tuiAppearanceState",tuiAppearanceFocus:"tuiAppearanceFocus",tuiAppearanceMode:"tuiAppearanceMode"},features:[E([Ce])]});let e=t;return e})();var Me=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,features:[E([{directive:oi,inputs:["tuiAppearance","appearance","tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]}])]});let e=t;return e})();var ci=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-icons"],decls:0,vars:0,template:function(r,o){},styles:[`[tuiIcons]{--t-icon-start: none;--t-icon-end: none}[tuiIcons]:before,[tuiIcons]:after{content:"";inline-size:1em;block-size:1em;line-height:1em;font-size:1.5rem;flex-shrink:0;box-sizing:content-box;background:currentColor}[tuiIcons]:before{display:var(--t-icon-start, none);-webkit-mask:var(--t-icon-start) no-repeat center / contain padding-box;mask:var(--t-icon-start) no-repeat center / contain padding-box}[tuiIcons]:after{display:var(--t-icon-end, none);-webkit-mask:var(--t-icon-end) no-repeat center / contain padding-box;mask:var(--t-icon-end) no-repeat center / contain padding-box}[tuiIcons][data-icon-start=image]:before{-webkit-mask:none;mask:none;background:var(--t-icon-start) no-repeat center / contain padding-box}[tuiIcons][data-icon-end=image]:after{-webkit-mask:none;mask:none;background:var(--t-icon-end) no-repeat center / contain padding-box}[tuiIcons][data-icon-start=font]:before,[tuiIcons][data-icon-end=font]:after{display:grid;-webkit-mask:none;mask:none;background:none;font:1.3em/1 var(--tui-font-icon, inherit);text-align:center;place-content:center;text-transform:none}[tuiIcons][data-icon-start=font]:before{content:var(--t-icon-start)}[tuiIcons][data-icon-end=font]:after{content:var(--t-icon-end)}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),ui=(()=>{let t=class t{constructor(){this.resolver=be(),this.nothing=N(ci),this.startResource=C(()=>this.resolve(this.iconStart())),this.endResource=C(()=>this.resolve(this.iconEnd())),this.startMode=C(()=>L(this.iconStart()?.toString())),this.endMode=C(()=>L(this.iconEnd())),this.iconStart=I(l(Ie,{self:!0,optional:!0})||""),this.iconEnd=I(l(Se,{self:!0,optional:!0})||"")}set iconStartSetter(n){this.iconStart.set(n)}set iconEndSetter(n){this.iconEnd.set(n)}resolve(n){if(!n)return null;let r=n.toString();return L(r)==="font"?`'${this.resolver(r)}'`:`url(${this.resolver(r)})`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,hostAttrs:["tuiIcons",""],hostVars:6,hostBindings:function(r,o){r&2&&(M("data-icon-start",o.startMode())("data-icon-end",o.endMode()),V("--t-icon-start",o.startResource())("--t-icon-end",o.endResource()))},inputs:{iconStartSetter:[0,"iconStart","iconStartSetter"],iconEndSetter:[0,"iconEnd","iconEndSetter"]}});let e=t;return e})(),Ae=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,features:[E([{directive:ui,inputs:["iconStart","iconStart","iconEnd","iconEnd"]}])]});let e=t;return e})();var pi={appearance:"primary",size:"l"},[Jn,xe]=et(pi);var Ee={size:"m",appearance:e=>e.checked||e.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},di=new p("",{factory:()=>Ee});function we(e){return D(di,e,Ee)}var mi={appearance:"",round:!0,size:"l"},[ar,ke]=et(mi);var Oe={showIcons:!0,size:"m",icon:"@tui.check",appearance:e=>e.checked?"primary":"secondary"},fi=new p("",{factory:()=>Oe});function De(e){return D(fi,e,Oe)}var gi={appearance:"neutral",size:"s"},ze=new p("",{factory:()=>gi});var hi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=g({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],decls:0,vars:0,template:function(r,o){},styles:[`tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, 0rem) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge]{margin-inline-end:0}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: 0rem;--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip[data-size=m]>tui-badge,[tuiChip][data-size=m]>tui-badge,tui-chip[data-size=m]>[tuiBadge],[tuiChip][data-size=m]>[tuiBadge]{margin-inline-start:-.375rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>[tuiFade]:first-of-type,[tuiChip]>[tuiFade]:first-of-type{flex:1 0 30%;max-inline-size:-webkit-fit-content;max-inline-size:-moz-fit-content;max-inline-size:fit-content}tui-chip>[tuiFade]:last-of-type,[tuiChip]>[tuiFade]:last-of-type{flex:0 1 auto}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;margin:0}tui-chip>input[tuiChip][type=checkbox],[tuiChip]>input[tuiChip][type=checkbox],tui-chip>input[tuiChip][type=radio],[tuiChip]>input[tuiChip][type=radio]{z-index:-1}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=negative],[tuiChip][tuiAppearance][data-appearance=negative],tui-chip[tuiAppearance][data-appearance=positive],[tuiChip][tuiAppearance][data-appearance=positive],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}input[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}input[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),Ne=(()=>{let t=class t{constructor(){this.options=l(ze),this.nothing=N(hi),this.size=this.options.size}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=b({type:t,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(r,o){r&2&&M("data-size",o.size)},inputs:{size:"size"},features:[wt([Te(ze),De({size:"s"}),we({size:"s"}),ke({size:"xs"}),xe({size:"xs",appearance:"icon"})]),E([Me,Ae])]});let e=t;return e})();function _i(e,t){if(e&1&&(s(0,"div",1),u(1),a()),e&2){let i=m();W("warn",i.variant==="warn"),c(),k(" ",i.message," ")}}var nt=class e{message="";variant="info";static \u0275fac=function(i){return new(i||e)};static \u0275cmp=g({type:e,selectors:[["app-toast"]],inputs:{message:"message",variant:"variant"},decls:1,vars:1,consts:[["class","toast",3,"warn",4,"ngIf"],[1,"toast"]],template:function(i,n){i&1&&T(0,_i,2,3,"div",0),i&2&&d("ngIf",n.message)},dependencies:[A,K],styles:[".toast[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;background:#323232;color:#fff;padding:12px 16px;border-radius:6px;box-shadow:0 4px 10px #0003;z-index:1000}.toast.warn[_ngcontent-%COMP%]{background:#b45000}"]})};function Ii(e,t){if(e&1){let i=w();bt(0),u(1," \u2022 "),s(2,"button",17),S("click",function(){h(i);let r=m();return v(r.toggleLive())}),u(3),a(),Ct()}if(e&2){let i=m();c(3),_(i.liveEnabled?"Live: On":"Live: Off")}}function Si(e,t){if(e&1){let i=w();s(0,"mat-chip-option",18),S("click",function(){let r=h(i).$implicit,o=m();return v(o.onToggleSource(r))}),u(1),a()}if(e&2){let i=t.$implicit,n=m();d("selected",n.selectedSources().includes(i)),c(),_(i)}}function bi(e,t){e&1&&z(0,"app-loading-spinner",19),e&2&&d("fullscreen",!1)}function Ci(e,t){if(e&1&&z(0,"app-error-message",20),e&2){let i=m();d("message",i.error())}}function yi(e,t){e&1&&(s(0,"div",21)(1,"p"),u(2,"No results yet. Try a broader query or switch sources."),a()())}function Ti(e,t){if(e&1){let i=w();s(0,"mat-card",31)(1,"mat-card-title",32)(2,"span",33),u(3),a(),s(4,"a",34),u(5,"Open"),a()(),s(6,"mat-card-subtitle",35)(7,"span",36),u(8),a()(),s(9,"div",37)(10,"button",38),S("click",function(){let r=h(i).$implicit,o=m(3);return v(o.viewDetails(r))}),u(11,"View details"),a(),s(12,"button",39),S("click",function(){let r=h(i).$implicit,o=m(3);return v(o.toggleSave(r))}),u(13),a(),s(14,"button",40),S("click",function(){let r=h(i).$implicit,o=m(3);return v(o.copy(o.linkFor(r)))}),u(15,"Copy link"),a(),s(16,"button",40),S("click",function(){let r=h(i).$implicit,o=m(3);return v(o.copy(o.citationFor(r)))}),u(17,"Copy citation"),a()()()}if(e&2){let i=t.$implicit,n=m(3);c(3),_(i.title),c(),d("href",n.linkFor(i),It),M("title","Open in "+i.source),c(4),Mt("",i.authors.join(", ")," \u2022 ",i.year),c(5),_(n.isSaved(i)?"Unsave":"Save")}}function Mi(e,t){if(e&1&&(s(0,"div",25)(1,"div",26)(2,"span",27),u(3),a(),s(4,"span",28),u(5),a()(),s(6,"div",29),T(7,Ti,18,6,"mat-card",30),a()()),e&2){let i=t.$implicit;c(3),_(i.source),c(2),_(i.items.length),c(2),d("ngForOf",i.items)}}function Ai(e,t){if(e&1&&(s(0,"div",22)(1,"h3"),u(2),a(),s(3,"div",23),T(4,Mi,8,3,"div",24),a()()),e&2){let i=m();c(2),k("",i.results().length," results"),c(2),d("ngForOf",i.grouped())}}var Re=class e{constructor(t,i,n){this.sg=t;this.lib=i;this.router=n;this.sub=this.sg.rateLimit$.subscribe(r=>{this.toastMsg=`${r} rate limit hit. Retrying once\u2026`,G(3200).subscribe(()=>this.toastMsg="")}),this.type$.pipe(ft(400),gt()).subscribe(r=>{let o=(r||"").trim();o&&this.store.dispatch(ct({query:o}))})}q="";devMode=!Y.production;get liveEnabled(){if(typeof window>"u")return!!Y.scholarGraph?.useLive;let t=window.localStorage.getItem("sg.useLive");return t!=null?t==="true":!!Y.scholarGraph?.useLive}store=l(Dt);loading=this.store.selectSignal(Ut);errorSig=this.store.selectSignal(Bt);error=C(()=>this.errorSig()??null);results=this.store.selectSignal(Pt);availableSources=this.store.selectSignal(Ft);selectedSources=this.store.selectSignal(Lt);toastMsg="";sub;type$=new dt;grouped=C(()=>{let t=this.results(),i={};for(let r of st)i[r]=[];for(let r of t)(i[r.source]||=[]).push(r);return st.map(r=>({source:r,items:(i[r]||[]).slice().sort((o,y)=>y.year-o.year)})).filter(r=>r.items.length>0)});onSearch(){let t=this.q.trim();t&&this.store.dispatch(ct({query:t}))}onToggleSource(t){this.store.dispatch(Nt({source:t}))}toggleLive(){typeof window>"u"||window.localStorage.setItem("sg.useLive",(!this.liveEnabled).toString())}ngOnDestroy(){this.sub?.unsubscribe()}linkFor(t){switch(t.source){case"CrossRef":{let i=t.id||"";return i.startsWith("http")?i:`https://doi.org/${encodeURIComponent(i)}`}case"arXiv":{let i=t.id||"";if(i.startsWith("http"))try{let n=new URL(i);return`https://arxiv.org${n.pathname.includes("/abs/")?n.pathname:n.pathname.replace("/pdf/","/abs/")}`}catch{}return`https://arxiv.org/abs/${encodeURIComponent(i)}`}case"PubMed":return`https://pubmed.ncbi.nlm.nih.gov/${encodeURIComponent(t.id)}/`;default:return"#"}}copy(t){if(!t)return;let i=n=>{this.toastMsg=n,G(1800).subscribe(()=>this.toastMsg="")};if(typeof window<"u"&&navigator?.clipboard?.writeText){navigator.clipboard.writeText(t).then(()=>i("Copied to clipboard")).catch(()=>i("Copy failed"));return}try{let n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),i("Copied to clipboard")}catch{i("Copy failed")}}citationFor(t){let i=pt=>{let rt=pt.trim().split(/\s+/);if(!rt.length)return pt;let Pe=rt.pop(),Ue=rt.map(Be=>Be[0]?.toUpperCase()+".").join("");return`${Pe}, ${Ue}`.trim()},n=(t.authors||[]).slice(0,6).map(i).join(", "),r=t.year||new Date().getFullYear(),o=t.title||"Untitled",y=this.linkFor(t);return`${n} (${r}). ${o}. ${t.source}. ${y}`}isSaved(t){return this.lib.isSaved(t)}toggleSave(t){let i=this.lib.toggle(t);this.toastMsg=i?"Saved to library":"Removed from library",G(1500).subscribe(()=>this.toastMsg="")}onType(t){this.type$.next(t)}viewDetails(t){this.router.navigate(["/scholar-graph",t.source,t.id],{state:{paper:t}})}static \u0275fac=function(i){return new(i||e)(H(Rt),H(de),H(zt))};static \u0275cmp=g({type:e,selectors:[["app-scholar-graph"]],decls:29,vars:10,consts:[["f","ngForm"],[1,"module-container"],[1,"search-card"],["mat-card-avatar",""],[4,"ngIf"],[1,"search-form",3,"ngSubmit"],["appearance","outline",1,"search-field"],["matInput","","name","q","placeholder","e.g., graph neural networks","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"filters"],["aria-label","Source filters","multiple",""],[3,"selected","click",4,"ngFor","ngForOf"],[3,"fullscreen",4,"ngIf"],["icon","error_outline",3,"message",4,"ngIf"],["class","empty",4,"ngIf"],["class","results",4,"ngIf"],["variant","warn",3,"message"],["mat-button","","color","accent","type","button",3,"click"],[3,"click","selected"],[3,"fullscreen"],["icon","error_outline",3,"message"],[1,"empty"],[1,"results"],[1,"result-groups"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"group-header"],["tuiChip","","size","s"],[1,"count"],[1,"result-list"],["class","result",4,"ngFor","ngForOf"],[1,"result"],[1,"title-row"],[1,"title"],["target","_blank","rel","noopener",1,"open-link",3,"href"],[1,"result-subtitle"],[1,"meta"],[1,"actions"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-stroked-button","","color","accent","type","button",3,"click"],["mat-stroked-button","","type","button",3,"click"]],template:function(i,n){if(i&1){let r=w();s(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-icon",3),u(4,"search"),a(),s(5,"mat-card-title"),u(6,"ScholarGraph"),a(),s(7,"mat-card-subtitle"),u(8," Search across sources "),T(9,Ii,4,1,"ng-container",4),a()(),s(10,"mat-card-content")(11,"form",5,0),S("ngSubmit",function(){return h(r),v(n.onSearch())}),s(13,"mat-form-field",6)(14,"mat-label"),u(15,"Search papers"),a(),s(16,"input",7),Et("ngModelChange",function(y){return h(r),xt(n.q,y)||(n.q=y),v(y)}),S("ngModelChange",function(y){return h(r),v(n.onType(y))}),a()(),s(17,"button",8)(18,"mat-icon"),u(19,"search"),a(),u(20),a()(),s(21,"div",9)(22,"mat-chip-listbox",10),T(23,Si,2,2,"mat-chip-option",11),a()(),T(24,bi,1,1,"app-loading-spinner",12)(25,Ci,1,1,"app-error-message",13)(26,yi,3,0,"div",14)(27,Ai,5,2,"div",15),a()(),z(28,"app-toast",16),a()}if(i&2){let r=yt(12);c(9),d("ngIf",n.devMode),c(7),At("ngModel",n.q),c(),d("disabled",!r.valid||n.loading()),c(3),k(" ",n.loading()?"Searching\u2026":"Search"," "),c(3),d("ngForOf",n.availableSources()),c(),d("ngIf",n.loading()),c(),d("ngIf",n.error()),c(),d("ngIf",!n.loading()&&!n.results().length),c(),d("ngIf",!n.loading()&&n.results().length),c(),d("message",n.toastMsg)}},dependencies:[A,Ot,K,$t,Kt,Gt,Ht,Vt,Yt,jt,Wt,ee,Jt,te,Zt,Qt,Xt,qt,Z,q,J,$,re,ne,ie,oe,ae,X,Q,pe,le,ue,Ne,nt],styles:[".module-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);max-width:1200px;margin:0 auto}.search-form[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);align-items:center}.search-field[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]{margin-top:var(--spacing-md)}.results[_ngcontent-%COMP%]{margin-top:var(--spacing-lg)}.result-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:var(--spacing-md)}"]})};export{Re as ScholarGraphComponent};
