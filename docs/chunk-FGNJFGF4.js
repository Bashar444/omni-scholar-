import{A as Kt,B as Yt,C as $t,D as Jt,E as qt,F as Zt,n as Wt,s as dt,t as mt,w as jt,z as X}from"./chunk-GYPEF45C.js";import{a as Ce}from"./chunk-KYFIESY5.js";import{c as Vt}from"./chunk-USYTE2QY.js";import{b as _e,c as Ie}from"./chunk-HAF7K5QF.js";import{c as be,e as Se,f as ye}from"./chunk-QQJWXDD6.js";import{b as ge,h as he,i as ve}from"./chunk-WRB4Q2LA.js";import{b as Xt,f as Qt,g as te,h as ee,i as ie,j as ne,o as re,p as ae}from"./chunk-5TZOSPYX.js";import{a as se,b as ce,c as ue,d as le,f as pe,g as de,h as me}from"./chunk-TPPHD3IY.js";import{$b as N,Ba as U,Bb as d,Bd as oe,C as V,Cb as s,Cc as J,Db as o,Eb as A,Fc as q,Ga as b,Hc as Ft,I as It,Ib as kt,Jb as wt,Kb as K,Kd as fe,Lb as D,Mc as Gt,Nb as S,Nc as Z,Oa as B,Oc as Ht,P as bt,Pa as Mt,Pb as m,Qc as E,Ta as At,Tb as Ot,Ub as Dt,Ud as Q,Va as c,Vb as zt,Wd as tt,Xd as et,Yd as it,Za as j,Zb as Y,_b as x,a as g,ac as $,b as W,bc as l,cc as I,dc as z,eb as f,ec as Rt,fb as xt,gb as y,gc as Nt,hc as Pt,i as vt,ia as St,ic as Ut,jb as O,kb as C,kc as Bt,ma as yt,nb as Et,oa as p,p as lt,pc as Lt,qa as u,ta as Ct,u as _t,ub as h,uc as T,va as v,vb as L,vc as G,wa as _,wb as F,xa as pt,ya as Tt}from"./chunk-4BSDVLOV.js";var Qe=["determinateSpinner"];function ti(e,t){if(e&1&&(pt(),s(0,"svg",11),A(1,"circle",12),o()),e&2){let i=m();h("viewBox",i._viewBox()),c(),x("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeCircumference()/2,"px")("stroke-width",i._circleStrokeWidth(),"%"),h("r",i._circleRadius())}}var ei=new p("mat-progress-spinner-default-options",{providedIn:"root",factory:ii});function ii(){return{diameter:Te}}var Te=100,ni=10,Me=(()=>{class e{_elementRef=u(B);_noopAnimations;get color(){return this._color||this._defaultColor}set color(i){this._color=i}_color;_defaultColor="primary";_determinateCircle;constructor(){let i=u(ei),n=fe(),r=this._elementRef.nativeElement;this._noopAnimations=n==="di-disabled"&&!!i&&!i._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&n==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}_value=0;get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}_diameter=Te;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_strokeWidth;_circleRadius(){return(this.diameter-ni)/2}_viewBox(){let i=this._circleRadius()*2+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=f({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(n,r){if(n&1&&Ot(Qe,5),n&2){let a;Dt(a=zt())&&(r._determinateCircle=a.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(n,r){n&2&&(h("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),$("mat-"+r.color),x("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),N("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",q],diameter:[2,"diameter","diameter",q],strokeWidth:[2,"strokeWidth","strokeWidth",q]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(n,r){if(n&1&&(C(0,ti,2,8,"ng-template",null,0,Lt),s(2,"div",2,1),pt(),s(4,"svg",3),A(5,"circle",4),o()(),Tt(),s(6,"div",5)(7,"div",6)(8,"div",7),K(9,8),o(),s(10,"div",9),K(11,8),o(),s(12,"div",10),K(13,8),o()()()),n&2){let a=Y(1);c(4),h("viewBox",r._viewBox()),c(),x("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),h("r",r._circleRadius()),c(4),d("ngTemplateOutlet",a),c(2),d("ngTemplateOutlet",a),c(2),d("ngTemplateOutlet",a)}},dependencies:[Ht],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return e})();var Ae=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=xt({type:e});static \u0275inj=yt({imports:[oe]})}return e})();function ai(e,t){if(e&1&&(s(0,"p",2),l(1),o()),e&2){let i=m();c(),I(i.message)}}var nt=class e{diameter=50;strokeWidth=4;color="primary";message;fullscreen=!1;static \u0275fac=function(i){return new(i||e)};static \u0275cmp=f({type:e,selectors:[["app-loading-spinner"]],inputs:{diameter:"diameter",strokeWidth:"strokeWidth",color:"color",message:"message",fullscreen:"fullscreen"},decls:3,vars:6,consts:[[1,"loading-spinner-container"],[3,"diameter","strokeWidth","color"],[1,"loading-message"]],template:function(i,n){i&1&&(s(0,"div",0),A(1,"mat-spinner",1),L(2,ai,2,1,"p",2),o()),i&2&&(N("fullscreen",n.fullscreen),c(),d("diameter",n.diameter)("strokeWidth",n.strokeWidth)("color",n.color),c(),F(n.message?2:-1))},dependencies:[E,Ae,Me],styles:[".loading-spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;gap:1rem}.loading-spinner-container.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;background:#ffffffe6;z-index:9999}.loading-message[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#0009;font-weight:500}"]})};function ci(e,t){if(e&1&&(s(0,"h4",4),l(1),o()),e&2){let i=m();c(),I(i.title)}}function ui(e,t){if(e&1){let i=D();s(0,"button",7),S("click",function(){v(i);let r=m();return _(r.onRetry())}),s(1,"mat-icon"),l(2,"refresh"),o(),l(3," Retry "),o()}}var rt=class e{type="error";title;message="An error occurred";showRetry=!1;onRetryClick;getIcon(){switch(this.type){case"error":return"error";case"warning":return"warning";case"info":return"info";default:return"error"}}onRetry(){this.onRetryClick&&this.onRetryClick()}static \u0275fac=function(i){return new(i||e)};static \u0275cmp=f({type:e,selectors:[["app-error-message"]],inputs:{type:"type",title:"title",message:"message",showRetry:"showRetry",onRetryClick:"onRetryClick"},decls:9,vars:6,consts:[[1,"error-message"],[1,"error-content"],[1,"error-icon"],[1,"error-text"],[1,"error-title"],[1,"error-description"],["mat-flat-button","","color","primary"],["mat-flat-button","","color","primary",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1)(2,"mat-icon",2),l(3),o(),s(4,"div",3),L(5,ci,2,1,"h4",4),s(6,"p",5),l(7),o()()(),L(8,ui,4,0,"button",6),o()),i&2&&($(n.type),c(3),z(" ",n.getIcon()," "),c(2),F(n.title?5:-1),c(2),I(n.message),c(),F(n.showRetry?8:-1))},dependencies:[E,it,et,tt,Q],styles:[".error-message[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.5rem;border-radius:8px;border:1px solid;margin:1rem 0}.error-message.error[_ngcontent-%COMP%]{background:#fef2f2;border-color:#fca5a5;color:#991b1b}.error-message.warning[_ngcontent-%COMP%]{background:#fffbeb;border-color:#fcd34d;color:#92400e}.error-message.info[_ngcontent-%COMP%]{background:#eff6ff;border-color:#93c5fd;color:#1e40af}.error-content[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.error-icon[_ngcontent-%COMP%]{flex-shrink:0;font-size:24px;width:24px;height:24px}.error-text[_ngcontent-%COMP%]{flex:1}.error-title[_ngcontent-%COMP%]{margin:0 0 .5rem;font-size:16px;font-weight:600}.error-description[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:1.5}"]})};var Ee=parseInt(St.major,10)>=19?{}:{allowSignalWrites:!0},xe={bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0},dn=new Mt;var mn=W(g({},xe),{toJSON:()=>xe});function at(e){return typeof e=="string"}function ke(e,t,i=!1){return{provide:e,useExisting:t,multi:i}}function R(e,t,i){return{provide:e,useFactory:()=>g(g({},u(e,{optional:!0,skipSelf:!0})||i),u(t,{optional:!0})||(typeof t=="function"?t():t))}}var pi=new p("",{factory:()=>{let e=new Map;return u(U).onDestroy(()=>e.forEach(t=>t.destroy())),e}});function P(e){let t=u(pi),i=u(Ct);t.has(e)||t.set(e,Ft(e,{environmentInjector:i}))}function ot(e){let t=new p("",{factory:()=>e});return[t,i=>R(t,i,e)]}function st(){return u(B).nativeElement}var mi={cardNumber:["Number","Card number"],cardExpiry:["Expires","Valid through"]},fi={colorSelectorModeNames:["Solid color","Gradient"],toolbarTools:{undo:"Undo",redo:"Redo",font:"Font",fontStyle:"Font style",fontSize:"Font size",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike through",justify:"Justify",justifyLeft:"Justify left",justifyCenter:"Justify center",justifyRight:"Justify right",justifyFull:"Justify full",list:"List",indent:"Indent",outdent:"Outdent",unorderedList:"Unordered list",orderedList:"Ordered list",quote:"Quote",foreColor:"Color",backColor:"Background color",hiliteColor:"Highlight color",clear:"Clear",link:"Link",attach:"Attach file",tex:"Insert TeX",code:"Code",image:"Insert image",insertHorizontalRule:"Insert horizontal rule",superscript:"Superscript",subscript:"Subscript",insertTable:"Insert table",insertGroup:"Insert group",hiliteGroup:"Hilite group",removeGroup:"Remove group",insertAnchor:"Insert anchor",mergeCells:"Merge cells",splitCells:"Split cells",rowsColumnsManaging:"Managing rows and columns",cellColor:"Cell color",setDetails:"Details",removeDetails:"Remove details"},editorEditLink:{urlExample:"example.com",anchorExample:"anchor"},editorTableCommands:[["Insert column before","Insert column after"],["Insert row before","Insert row after"],["Delete column","Delete row"]],editorCodeOptions:["Code in the text","Code in block"],editorFontOptions:{small:"Small",large:"Large",normal:"Normal",title:"Title",subtitle:"Subtitle"}},gi={showHideText:"Show/Hide",paginationTexts:{pages:"Pages",linesPerPage:"Lines per page",of:"of"}},hi={AD:"Andorra",AE:"United Arab Emirates",AF:"Afghanistan",AG:"Antigua & Barbuda",AI:"Anguilla",AL:"Albania",AM:"Armenia",AO:"Angola",AR:"Argentina",AT:"Austria",AU:"Australia",AW:"Aruba",AZ:"Azerbaijan",BA:"Bosnia & Herzegovina",BB:"Barbados",BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BL:"St. Barth\xE9lemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BQ:"Caribbean Netherlands",BR:"Brazil",BS:"Bahamas",BT:"Bhutan",BW:"Botswana",BY:"Belarus",BZ:"Belize",CA:"Canada",CD:"Congo - Kinshasa",CF:"Central African Republic",CG:"Congo - Brazzaville",CH:"Switzerland",CI:"C\xF4te d\u2019Ivoire",CL:"Chile",CM:"Cameroon",CN:"China",CO:"Colombia",CR:"Costa Rica",CU:"Cuba",CV:"Cape Verde",CW:"Cura\xE7ao",CY:"Cyprus",CZ:"Czechia",DE:"Germany",DJ:"Djibouti",DK:"Denmark",DM:"Dominica",DO:"Dominican Republic",DZ:"Algeria",EC:"Ecuador",EE:"Estonia",EG:"Egypt",ER:"Eritrea",ES:"Spain",ET:"Ethiopia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FR:"France",GA:"Gabon",GB:"United Kingdom",GD:"Grenada",GE:"Georgia",GF:"French Guiana",GH:"Ghana",GI:"Gibraltar",GL:"Greenland",GM:"Gambia",GN:"Guinea",GP:"Guadeloupe",GQ:"Equatorial Guinea",GR:"Greece",GT:"Guatemala",GW:"Guinea-Bissau",GY:"Guyana",HK:"Hong Kong",HN:"Honduras",HR:"Croatia",HT:"Haiti",HU:"Hungary",ID:"Indonesia",IE:"Ireland",IL:"Israel",IN:"India",IQ:"Iraq",IR:"Iran",IS:"Iceland",IT:"Italy",JM:"Jamaica",JO:"Jordan",JP:"Japan",KE:"Kenya",KG:"Kyrgyzstan",KH:"Cambodia",KM:"Comoros",KN:"St. Kitts & Nevis",KP:"North Korea",KR:"South Korea",KW:"Kuwait",KY:"Cayman Islands",KZ:"Kazakhstan",LA:"Laos",LB:"Lebanon",LC:"St. Lucia",LI:"Liechtenstein",LK:"Sri Lanka",LR:"Liberia",LS:"Lesotho",LT:"Lithuania",LU:"Luxembourg",LV:"Latvia",LY:"Libya",MA:"Morocco",MC:"Monaco",MD:"Moldova",ME:"Montenegro",MF:"St. Martin",MG:"Madagascar",MK:"North Macedonia",ML:"Mali",MM:"Myanmar (Burma)",MN:"Mongolia",MO:"Macao",MQ:"Martinique",MR:"Mauritania",MS:"Montserrat",MT:"Malta",MU:"Mauritius",MV:"Maldives",MW:"Malawi",MX:"Mexico",MY:"Malaysia",MZ:"Mozambique",NA:"Namibia",NC:"New Caledonia",NE:"Niger",NG:"Nigeria",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NP:"Nepal",NZ:"New Zealand",OM:"Oman",PA:"Panama",PE:"Peru",PF:"French Polynesia",PG:"Papua New Guinea",PH:"Philippines",PK:"Pakistan",PL:"Poland",PT:"Portugal",PW:"Palau",PY:"Paraguay",QA:"Qatar",RE:"R\xE9union",RO:"Romania",RS:"Serbia",RU:"Russia",RW:"Rwanda",SA:"Saudi Arabia",SB:"Solomon Islands",SC:"Seychelles",SD:"Sudan",SE:"Sweden",SG:"Singapore",SH:"St. Helena",SI:"Slovenia",SK:"Slovakia",SL:"Sierra Leone",SM:"San Marino",SN:"Senegal",SO:"Somalia",SR:"Suriname",ST:"S\xE3o Tom\xE9 & Pr\xEDncipe",SV:"El Salvador",SX:"Sint Maarten",SY:"Syria",SZ:"Eswatini",TC:"Turks & Caicos Islands",TD:"Chad",TG:"Togo",TH:"Thailand",TJ:"Tajikistan",TL:"Timor-Leste",TM:"Turkmenistan",TN:"Tunisia",TO:"Tonga",TR:"T\xFCrkiye",TT:"Trinidad & Tobago",TW:"Taiwan",TZ:"Tanzania",UA:"Ukraine",UG:"Uganda",US:"United States",UY:"Uruguay",UZ:"Uzbekistan",VC:"St. Vincent & Grenadines",VE:"Venezuela",VG:"British Virgin Islands",VN:"Vietnam",VU:"Vanuatu",WS:"Samoa",XK:"Kosovo",YE:"Yemen",YT:"Mayotte",ZA:"South Africa",ZM:"Zambia",ZW:"Zimbabwe",AC:"Ascension Island",AS:"American Samoa",AX:"\xC5land Islands",CC:"Cocos (Keeling) Islands",CK:"Cook Islands",CX:"Christmas Island",EH:"Western Sahara",FO:"Faroe Islands",GG:"Guernsey",GU:"Guam",IM:"Isle of Man",JE:"Jersey",IO:"British Indian Ocean Territory",KI:"Kiribati",MH:"Marshall Islands",MP:"Northern Mariana Islands",NF:"Norfolk Island",NR:"Nauru",NU:"Niue",PM:"Saint Pierre and Miquelon",PR:"Puerto Rico",PS:"Palestine",SJ:"Svalbard and Jan Mayen",SS:"South Sudan",TA:"Tristan da Cunha",TK:"Tokelau",TV:"Tuvalu",VA:"Holy See",VI:"Virgin Islands",WF:"Wallis and Futuna"},vi={months:["January","February","March","April","May","June","July","August","September","October","November","December"],close:"Close",clear:"Clear",nothingFoundMessage:"Nothing found",defaultErrorMessage:"Value is invalid",spinTexts:["Previous","Next"],shortWeekDays:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],countries:hi},_i={cancel:"Cancel",done:"Done",more:"More",otherDate:"Other date...",showAll:"Show all",hide:"Hide",mobileCalendarTexts:["Choose day","Choose range","Choose days"],range:["from","to"],countTexts:["Plus","Minus"],time:{"MM:SS":"MM:SS","HH:MM":"HH:MM","HH:MM AA":"HH:MM AA","HH:MM:SS":"HH:MM:SS","HH:MM:SS AA":"HH:MM:SS AA","HH:MM:SS.MSS":"HH:MM:SS.MSS","HH:MM:SS.MSS AA":"HH:MM:SS.MSS AA","HH AA":"HH AA",HH:"HH","MM:SS.MSS":"MM:SS.MSS","MM.SS.MSS":"MM.SS.MSS","SS.MSS":"SS.MSS"},dateTexts:{DMY:"dd.mm.yyyy",MDY:"mm.dd.yyyy",YMD:"yyyy.mm.dd"},digitalInformationUnits:["B","KiB","MiB"],passwordTexts:["Show password","Hide password"],copyTexts:["Copy","Copied"],shortCalendarMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pagination:["Previous page","Next page"],fileTexts:{loadingError:"Upload failed",preview:"Preview",remove:"Remove"},inputFileTexts:{defaultLabelSingle:"or drop\xA0it\xA0here",defaultLabelMultiple:"or drop\xA0them\xA0here",defaultLinkSingle:"Choose a file",defaultLinkMultiple:"Choose files",maxSizeRejectionReason:"File is larger than",formatRejectionReason:"Wrong file type",drop:"Drop file here",dropMultiple:"Drop files here"},multiSelectTexts:{all:"Select all",none:"Select none"},confirm:{yes:"Yes",no:"No"},previewTexts:{rotate:"Rotate"},zoomTexts:{zoomOut:"Zoom out",zoomIn:"Zoom in",reset:"Reset"},phoneSearch:"Type country or code"},Ii={inputSearch:{popular:"Popular",history:"Recent",placeholder:"Type query",hotkey:"to search",all:"All",empty:"Nothing found"}},we=g(g(g(g(g(g({name:"english"},vi),_i),gi),mi),fi),Ii);var Oe=new p("",{factory:()=>we}),De=new p("",{factory:()=>lt(u(Oe))});function w(e){return()=>u(De).pipe(_t(t=>t[e]))}var bi=new p("",{factory:()=>"assets/taiga-ui/icons"});var Yn=new p("",{factory:w("months")}),$n=new p("",{factory:w("close")}),Jn=new p("",{factory:w("clear")}),qn=new p("",{factory:w("nothingFoundMessage")}),Zn=new p("",{factory:w("defaultErrorMessage")}),Xn=new p("",{factory:w("spinTexts")}),Qn=new p("",{factory:w("shortWeekDays")}),ze=new p("",{factory:()=>""}),Re=new p("",{factory:()=>""}),Si=new p("",{factory:()=>({})});var gt={font:"@font.",image:"@img."},yi=new p("",{factory:()=>{let e=u(bi);return t=>`${e}/${t.replace(/@[a-zA-Z]+\./,"").split(".").join("/")}.svg`}});function H(e){return e?e.startsWith(gt.image)?"image":e.startsWith(gt.font)?"font":"svg":null}function Ne(){let e=u(Si),t=u(yi);return i=>!i||i.includes("/")?i:H(i)==="font"?i.slice(gt.font.length):e[i]??t(i)}var Pe=(()=>{let t=class t{constructor(){let n=st();u(Et).runOutsideAngular(()=>{setTimeout(()=>{n.style.transition=""})})}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,selectors:[["","tuiTransitioned",""]],hostVars:2,hostBindings:function(r,a){r&2&&x("transition","none")}});let e=t;return e})();var Ti={appearance:""},Ue=new p("",{factory:()=>Ti});function Be(e){return ke(Ue,e)}var Mi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-appearance"],decls:0,vars:0,template:function(r,a){},styles:[`[tuiAppearance]{transition-property:all;transition-duration:var(--tui-duration, .3s);transition-timing-function:ease-in-out;position:relative;-webkit-appearance:none;appearance:none;outline:.125rem solid transparent;outline-offset:-.125rem;transition-property:color,background-color,opacity,box-shadow,border-color,border-radius,filter}[tuiAppearance]:before,[tuiAppearance]:after{transition-duration:inherit;transition-timing-function:ease-in-out}[tuiAppearance]:focus-visible:not([data-focus=false]){outline-color:var(--tui-border-focus)}[tuiAppearance][data-focus=true]{outline-color:var(--tui-border-focus)}[tuiAppearance][tuiWrapper]:not(._focused):has(:focus-visible),[tuiAppearance][tuiWrapper]._focused{outline-color:var(--tui-border-focus)}[tuiAppearance]:disabled:not([data-state]),[tuiAppearance][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}[tuiAppearance][tuiWrapper]:disabled:not([data-state]),[tuiAppearance][tuiWrapper][data-state=disabled]{cursor:initial;opacity:var(--tui-disabled-opacity)}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),Ai=(()=>{let t=class t{constructor(){this.cdr=u(J,{skipSelf:!0}),this.el=st(),this.nothing=P(Mi),this.modes=T((n=this.mode())=>!n||at(n)?n:n.join(" ")),this.appearance=b(u(Ue).appearance),this.state=b(null),this.focus=b(null),this.mode=b(null),this.update=G(()=>{this.mode(),this.state(),this.focus(),this.el.matches("tui-textfield[multi]")&&this.cdr.detectChanges()},Ee)}set tuiAppearance(n){this.appearance.set(n)}set tuiAppearanceState(n){this.state.set(n)}set tuiAppearanceFocus(n){this.focus.set(n)}set tuiAppearanceMode(n){this.mode.set(n)}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,selectors:[["","tuiAppearance",""]],hostAttrs:["tuiAppearance",""],hostVars:4,hostBindings:function(r,a){r&2&&h("data-appearance",a.appearance())("data-state",a.state())("data-focus",a.focus())("data-mode",a.modes())},inputs:{tuiAppearance:"tuiAppearance",tuiAppearanceState:"tuiAppearanceState",tuiAppearanceFocus:"tuiAppearanceFocus",tuiAppearanceMode:"tuiAppearanceMode"},features:[O([Pe])]});let e=t;return e})();var Le=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,features:[O([{directive:Ai,inputs:["tuiAppearance","appearance","tuiAppearanceState","tuiAppearanceState","tuiAppearanceFocus","tuiAppearanceFocus","tuiAppearanceMode","tuiAppearanceMode"]}])]});let e=t;return e})();var Ei=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-icons"],decls:0,vars:0,template:function(r,a){},styles:[`[tuiIcons]{--t-icon-start: none;--t-icon-end: none}[tuiIcons]:before,[tuiIcons]:after{content:"";inline-size:1em;block-size:1em;line-height:1em;font-size:1.5rem;flex-shrink:0;box-sizing:content-box;background:currentColor}[tuiIcons]:before{display:var(--t-icon-start, none);-webkit-mask:var(--t-icon-start) no-repeat center / contain padding-box;mask:var(--t-icon-start) no-repeat center / contain padding-box}[tuiIcons]:after{display:var(--t-icon-end, none);-webkit-mask:var(--t-icon-end) no-repeat center / contain padding-box;mask:var(--t-icon-end) no-repeat center / contain padding-box}[tuiIcons][data-icon-start=image]:before{-webkit-mask:none;mask:none;background:var(--t-icon-start) no-repeat center / contain padding-box}[tuiIcons][data-icon-end=image]:after{-webkit-mask:none;mask:none;background:var(--t-icon-end) no-repeat center / contain padding-box}[tuiIcons][data-icon-start=font]:before,[tuiIcons][data-icon-end=font]:after{display:grid;-webkit-mask:none;mask:none;background:none;font:1.3em/1 var(--tui-font-icon, inherit);text-align:center;place-content:center;text-transform:none}[tuiIcons][data-icon-start=font]:before{content:var(--t-icon-start)}[tuiIcons][data-icon-end=font]:after{content:var(--t-icon-end)}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),ki=(()=>{let t=class t{constructor(){this.resolver=Ne(),this.nothing=P(Ei),this.startResource=T(()=>this.resolve(this.iconStart())),this.endResource=T(()=>this.resolve(this.iconEnd())),this.startMode=T(()=>H(this.iconStart()?.toString())),this.endMode=T(()=>H(this.iconEnd())),this.iconStart=b(u(ze,{self:!0,optional:!0})||""),this.iconEnd=b(u(Re,{self:!0,optional:!0})||"")}set iconStartSetter(n){this.iconStart.set(n)}set iconEndSetter(n){this.iconEnd.set(n)}resolve(n){if(!n)return null;let r=n.toString();return H(r)==="font"?`'${this.resolver(r)}'`:`url(${this.resolver(r)})`}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,hostAttrs:["tuiIcons",""],hostVars:6,hostBindings:function(r,a){r&2&&(h("data-icon-start",a.startMode())("data-icon-end",a.endMode()),x("--t-icon-start",a.startResource())("--t-icon-end",a.endResource()))},inputs:{iconStartSetter:[0,"iconStart","iconStartSetter"],iconEndSetter:[0,"iconEnd","iconEndSetter"]}});let e=t;return e})(),Fe=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,features:[O([{directive:ki,inputs:["iconStart","iconStart","iconEnd","iconEnd"]}])]});let e=t;return e})();var Oi={appearance:"primary",size:"l"},[Tr,Ge]=ot(Oi);var He={size:"m",appearance:e=>e.checked||e.indeterminate?"primary":"outline-grayscale",icons:{checked:"@tui.check",indeterminate:"@tui.minus"}},Di=new p("",{factory:()=>He});function We(e){return R(Di,e,He)}var zi={appearance:"",round:!0,size:"l"},[Rr,Ve]=ot(zi);var je={showIcons:!0,size:"m",icon:"@tui.check",appearance:e=>e.checked?"primary":"secondary"},Ri=new p("",{factory:()=>je});function Ke(e){return R(Ri,e,je)}var Ni={appearance:"neutral",size:"s"},Ye=new p("",{factory:()=>Ni});var Pi=(()=>{let t=class t{};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=f({type:t,selectors:[["ng-component"]],hostAttrs:[1,"tui-chip"],decls:0,vars:0,template:function(r,a){},styles:[`tui-chip,[tuiChip]{--t-gap: .125rem;--t-margin: -.125rem;--t-icon-size: 1rem;--t-padding: 0 .625rem;--t-size: var(--tui-height-s);-webkit-appearance:none;appearance:none;padding:0;border:0;background:none;font:inherit;line-height:inherit;text-decoration:none;position:relative;display:inline-flex;align-items:center;flex-shrink:0;box-sizing:border-box;white-space:nowrap;overflow:hidden;vertical-align:middle;max-inline-size:100%;gap:calc(var(--t-gap, 0rem) - 2 * var(--t-margin, 0rem));font:var(--tui-font-text-s);border-radius:var(--tui-radius-m);padding:var(--t-padding);block-size:var(--t-size);inline-size:-webkit-fit-content;inline-size:-moz-fit-content;inline-size:fit-content;isolation:isolate}tui-chip>img,[tuiChip]>img,tui-chip>tui-svg,[tuiChip]>tui-svg,tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip>tui-avatar,[tuiChip]>tui-avatar,tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge],tui-chip>[tuiRadio],[tuiChip]>[tuiRadio],tui-chip>[tuiSwitch],[tuiChip]>[tuiSwitch],tui-chip>[tuiCheckbox],[tuiChip]>[tuiCheckbox],tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{margin:var(--t-margin)}tui-chip:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled),[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:pointer}tui-chip>tui-icon,[tuiChip]>tui-icon,tui-chip[tuiIcons]:before,[tuiChip][tuiIcons]:before,tui-chip[tuiIcons]:after,[tuiChip][tuiIcons]:after{font-size:var(--t-icon-size)!important}tui-chip>[tuiIconButton],[tuiChip]>[tuiIconButton]{margin:-.375rem}tui-chip>tui-badge,[tuiChip]>tui-badge,tui-chip>[tuiBadge],[tuiChip]>[tuiBadge]{margin-inline-end:0}tui-chip[data-size=xxs],[tuiChip][data-size=xxs]{--t-gap: 0rem;--t-padding: 0 .25rem;--t-size: 1rem;--t-icon-size: .75rem;font:var(--tui-font-text-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xxs]>[tuiIconButton],[tuiChip][data-size=xxs]>[tuiIconButton]{margin:-.5rem;transform:scale(.75)}tui-chip[data-size=xs],[tuiChip][data-size=xs]{--t-padding: 0 .375rem;--t-size: var(--tui-height-xs);border-radius:var(--tui-radius-xs)}tui-chip[data-size=xs]>[tuiIconButton],[tuiChip][data-size=xs]>[tuiIconButton]{margin:-.375rem}tui-chip[data-size=m],[tuiChip][data-size=m]{--t-margin: -.375rem;--t-icon-size: 1.5rem;--t-padding: 0 1rem;--t-size: var(--tui-height-m);font:var(--tui-font-text-m)}tui-chip[data-size=m]>[tuiIconButton],[tuiChip][data-size=m]>[tuiIconButton]{margin:-.75rem}tui-chip[data-size=m]>tui-badge,[tuiChip][data-size=m]>tui-badge,tui-chip[data-size=m]>[tuiBadge],[tuiChip][data-size=m]>[tuiBadge]{margin-inline-start:-.375rem}tui-chip>img,[tuiChip]>img,tui-chip tui-avatar,[tuiChip] tui-avatar{inline-size:1.5rem;margin-inline-start:-.375rem}tui-chip>[tuiFade]:first-of-type,[tuiChip]>[tuiFade]:first-of-type{flex:1 0 30%;max-inline-size:-webkit-fit-content;max-inline-size:-moz-fit-content;max-inline-size:fit-content}tui-chip>[tuiFade]:last-of-type,[tuiChip]>[tuiFade]:last-of-type{flex:0 1 auto}tui-chip>input[tuiChip],[tuiChip]>input[tuiChip]{position:absolute;top:0;left:0;inline-size:100%;block-size:100%;margin:0}tui-chip>input[tuiChip][type=checkbox],[tuiChip]>input[tuiChip][type=checkbox],tui-chip>input[tuiChip][type=radio],[tuiChip]>input[tuiChip][type=radio]{z-index:-1}tui-chip[tuiAppearance][data-appearance=error],[tuiChip][tuiAppearance][data-appearance=error],tui-chip[tuiAppearance][data-appearance=success],[tuiChip][tuiAppearance][data-appearance=success],tui-chip[tuiAppearance][data-appearance=negative],[tuiChip][tuiAppearance][data-appearance=negative],tui-chip[tuiAppearance][data-appearance=positive],[tuiChip][tuiAppearance][data-appearance=positive],tui-chip[tuiAppearance][data-appearance=warning],[tuiChip][tuiAppearance][data-appearance=warning],tui-chip[tuiAppearance][data-appearance=info],[tuiChip][tuiAppearance][data-appearance=info],tui-chip[tuiAppearance][data-appearance=neutral],[tuiChip][tuiAppearance][data-appearance=neutral]{color:var(--tui-text-primary)}input[tuiChip]:matches(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}input[tuiChip]:is(a,button,select,textarea,input,label,.tui-interactive):not(:disabled){cursor:text}
`],encapsulation:2,changeDetection:0});let e=t;return e})(),$e=(()=>{let t=class t{constructor(){this.options=u(Ye),this.nothing=P(Pi),this.size=this.options.size}};t.\u0275fac=function(r){return new(r||t)},t.\u0275dir=y({type:t,selectors:[["tui-chip"],["","tuiChip",""]],hostVars:1,hostBindings:function(r,a){r&2&&h("data-size",a.size)},inputs:{size:"size"},features:[Bt([Be(Ye),Ke({size:"s"}),We({size:"s"}),Ve({size:"xs"}),Ge({size:"xs",appearance:"icon"})]),O([Le,Fe])]});let e=t;return e})();function Bi(e,t){if(e&1&&(s(0,"div",1),l(1),o()),e&2){let i=m();N("warn",i.variant==="warn"),c(),z(" ",i.message," ")}}var ct=class e{message="";variant="info";static \u0275fac=function(i){return new(i||e)};static \u0275cmp=f({type:e,selectors:[["app-toast"]],inputs:{message:"message",variant:"variant"},decls:1,vars:1,consts:[["class","toast",3,"warn",4,"ngIf"],[1,"toast"]],template:function(i,n){i&1&&C(0,Bi,2,3,"div",0),i&2&&d("ngIf",n.message)},dependencies:[E,Z],styles:[".toast[_ngcontent-%COMP%]{position:fixed;right:16px;bottom:16px;background:#323232;color:#fff;padding:12px 16px;border-radius:6px;box-shadow:0 4px 10px #0003;z-index:1000}.toast.warn[_ngcontent-%COMP%]{background:#b45000}"]})};function Li(e,t){if(e&1){let i=D();kt(0),l(1," \u2022 "),s(2,"button",17),S("click",function(){v(i);let r=m();return _(r.toggleLive())}),l(3),o(),wt()}if(e&2){let i=m();c(3),I(i.liveEnabled?"Live: On":"Live: Off")}}function Fi(e,t){if(e&1){let i=D();s(0,"mat-chip-option",18),S("click",function(){let r=v(i).$implicit,a=m();return _(a.onToggleSource(r))}),l(1),o()}if(e&2){let i=t.$implicit,n=m();d("selected",n.selectedSources().includes(i)),c(),I(i)}}function Gi(e,t){e&1&&A(0,"app-loading-spinner",19),e&2&&d("fullscreen",!1)}function Hi(e,t){if(e&1&&A(0,"app-error-message",20),e&2){let i=m();d("message",i.error())}}function Wi(e,t){e&1&&(s(0,"div",21)(1,"p"),l(2,"No results yet. Try a broader query or switch sources."),o()())}function Vi(e,t){if(e&1){let i=D();s(0,"mat-card",31)(1,"mat-card-title",32)(2,"span",33),l(3),o(),s(4,"a",34),l(5,"Open"),o()(),s(6,"mat-card-subtitle",35)(7,"span",36),l(8),o()(),s(9,"div",37)(10,"button",38),S("click",function(){let r=v(i).$implicit,a=m(3);return _(a.viewDetails(r))}),l(11,"View details"),o(),s(12,"button",39),S("click",function(){let r=v(i).$implicit,a=m(3);return _(a.toggleSave(r))}),l(13),o(),s(14,"button",40),S("click",function(){let r=v(i).$implicit,a=m(3);return _(a.copy(a.linkFor(r)))}),l(15,"Copy link"),o(),s(16,"button",40),S("click",function(){let r=v(i).$implicit,a=m(3);return _(a.copy(a.citationFor(r)))}),l(17,"Copy citation"),o()()()}if(e&2){let i=t.$implicit,n=m(3);c(3),I(i.title),c(),d("href",n.linkFor(i),At),h("title","Open in "+i.source),c(4),Rt("",i.authors.join(", ")," \u2022 ",i.year),c(5),I(n.isSaved(i)?"Unsave":"Save")}}function ji(e,t){if(e&1&&(s(0,"div",25)(1,"div",26)(2,"span",27),l(3),o(),s(4,"span",28),l(5),o()(),s(6,"div",29),C(7,Vi,18,6,"mat-card",30),o()()),e&2){let i=t.$implicit;c(3),I(i.source),c(2),I(i.items.length),c(2),d("ngForOf",i.items)}}function Ki(e,t){if(e&1&&(s(0,"div",22)(1,"h3"),l(2),o(),s(3,"div",23),C(4,ji,8,3,"div",24),o()()),e&2){let i=m();c(2),z("",i.results().length," results"),c(2),d("ngForOf",i.grouped())}}var Je=class e{constructor(t,i,n){this.sg=t;this.lib=i;this.router=n;this.sub=this.sg.rateLimit$.subscribe(r=>{this.toastMsg=`${r} rate limit hit. Retrying once\u2026`,V(3200).subscribe(()=>this.toastMsg="")}),this.type$.pipe(It(400),bt()).subscribe(r=>{let a=(r||"").trim();a&&this.store.dispatch(mt({query:a}))})}q="";devMode=!X.production;get liveEnabled(){if(typeof window>"u")return!!X.scholarGraph?.useLive;let t=window.localStorage.getItem("sg.useLive");return t!=null?t==="true":!!X.scholarGraph?.useLive}store=u(Wt);loading=this.store.selectSignal($t);errorSig=this.store.selectSignal(Jt);error=T(()=>this.errorSig()??null);results=this.store.selectSignal(Yt);availableSources=this.store.selectSignal(Zt);selectedSources=this.store.selectSignal(qt);toastMsg="";sub;type$=new vt;grouped=T(()=>{let t=this.results(),i={};for(let r of dt)i[r]=[];for(let r of t)(i[r.source]||=[]).push(r);return dt.map(r=>({source:r,items:(i[r]||[]).slice().sort((a,M)=>M.year-a.year)})).filter(r=>r.items.length>0)});onSearch(){let t=this.q.trim();t&&this.store.dispatch(mt({query:t}))}onToggleSource(t){this.store.dispatch(jt({source:t}))}toggleLive(){typeof window>"u"||window.localStorage.setItem("sg.useLive",(!this.liveEnabled).toString())}ngOnDestroy(){this.sub?.unsubscribe()}linkFor(t){switch(t.source){case"CrossRef":{let i=t.id||"";return i.startsWith("http")?i:`https://doi.org/${encodeURIComponent(i)}`}case"arXiv":{let i=t.id||"";if(i.startsWith("http"))try{let n=new URL(i);return`https://arxiv.org${n.pathname.includes("/abs/")?n.pathname:n.pathname.replace("/pdf/","/abs/")}`}catch{}return`https://arxiv.org/abs/${encodeURIComponent(i)}`}case"PubMed":return`https://pubmed.ncbi.nlm.nih.gov/${encodeURIComponent(t.id)}/`;default:return"#"}}copy(t){if(!t)return;let i=n=>{this.toastMsg=n,V(1800).subscribe(()=>this.toastMsg="")};if(typeof window<"u"&&navigator?.clipboard?.writeText){navigator.clipboard.writeText(t).then(()=>i("Copied to clipboard")).catch(()=>i("Copy failed"));return}try{let n=document.createElement("textarea");n.value=t,document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),i("Copied to clipboard")}catch{i("Copy failed")}}citationFor(t){let i=ht=>{let ut=ht.trim().split(/\s+/);if(!ut.length)return ht;let qe=ut.pop(),Ze=ut.map(Xe=>Xe[0]?.toUpperCase()+".").join("");return`${qe}, ${Ze}`.trim()},n=(t.authors||[]).slice(0,6).map(i).join(", "),r=t.year||new Date().getFullYear(),a=t.title||"Untitled",M=this.linkFor(t);return`${n} (${r}). ${a}. ${t.source}. ${M}`}isSaved(t){return this.lib.isSaved(t)}toggleSave(t){let i=this.lib.toggle(t);this.toastMsg=i?"Saved to library":"Removed from library",V(1500).subscribe(()=>this.toastMsg="")}onType(t){this.type$.next(t)}viewDetails(t){this.router.navigate(["/scholar-graph",t.source,t.id],{state:{paper:t}})}static \u0275fac=function(i){return new(i||e)(j(Kt),j(Ce),j(Vt))};static \u0275cmp=f({type:e,selectors:[["app-scholar-graph"]],decls:29,vars:10,consts:[["f","ngForm"],[1,"module-container"],[1,"search-card"],["mat-card-avatar",""],[4,"ngIf"],[1,"search-form",3,"ngSubmit"],["appearance","outline",1,"search-field"],["matInput","","name","q","placeholder","e.g., graph neural networks","required","",3,"ngModelChange","ngModel"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[1,"filters"],["aria-label","Source filters","multiple",""],[3,"selected","click",4,"ngFor","ngForOf"],[3,"fullscreen",4,"ngIf"],["icon","error_outline",3,"message",4,"ngIf"],["class","empty",4,"ngIf"],["class","results",4,"ngIf"],["variant","warn",3,"message"],["mat-button","","color","accent","type","button",3,"click"],[3,"click","selected"],[3,"fullscreen"],["icon","error_outline",3,"message"],[1,"empty"],[1,"results"],[1,"result-groups"],["class","group",4,"ngFor","ngForOf"],[1,"group"],[1,"group-header"],["tuiChip","","size","s"],[1,"count"],[1,"result-list"],["class","result",4,"ngFor","ngForOf"],[1,"result"],[1,"title-row"],[1,"title"],["target","_blank","rel","noopener",1,"open-link",3,"href"],[1,"result-subtitle"],[1,"meta"],[1,"actions"],["mat-stroked-button","","color","primary","type","button",3,"click"],["mat-stroked-button","","color","accent","type","button",3,"click"],["mat-stroked-button","","type","button",3,"click"]],template:function(i,n){if(i&1){let r=D();s(0,"div",1)(1,"mat-card",2)(2,"mat-card-header")(3,"mat-icon",3),l(4,"search"),o(),s(5,"mat-card-title"),l(6,"ScholarGraph"),o(),s(7,"mat-card-subtitle"),l(8," Search across sources "),C(9,Li,4,1,"ng-container",4),o()(),s(10,"mat-card-content")(11,"form",5,0),S("ngSubmit",function(){return v(r),_(n.onSearch())}),s(13,"mat-form-field",6)(14,"mat-label"),l(15,"Search papers"),o(),s(16,"input",7),Ut("ngModelChange",function(M){return v(r),Pt(n.q,M)||(n.q=M),_(M)}),S("ngModelChange",function(M){return v(r),_(n.onType(M))}),o()(),s(17,"button",8)(18,"mat-icon"),l(19,"search"),o(),l(20),o()(),s(21,"div",9)(22,"mat-chip-listbox",10),C(23,Fi,2,2,"mat-chip-option",11),o()(),C(24,Gi,1,1,"app-loading-spinner",12)(25,Hi,1,1,"app-error-message",13)(26,Wi,3,0,"div",14)(27,Ki,5,2,"div",15),o()(),A(28,"app-toast",16),o()}if(i&2){let r=Y(12);c(9),d("ngIf",n.devMode),c(7),Nt("ngModel",n.q),c(),d("disabled",!r.valid||n.loading()),c(3),z(" ",n.loading()?"Searching\u2026":"Search"," "),c(3),d("ngForOf",n.availableSources()),c(),d("ngIf",n.loading()),c(),d("ngIf",n.error()),c(),d("ngIf",!n.loading()&&!n.results().length),c(),d("ngIf",!n.loading()&&n.results().length),c(),d("message",n.toastMsg)}},dependencies:[E,Gt,Z,ae,ne,Xt,Qt,te,re,ie,ee,me,se,de,ue,pe,le,ce,it,et,tt,Q,ve,he,ge,Ie,_e,nt,rt,ye,Se,be,$e,ct],styles:[".module-container[_ngcontent-%COMP%]{padding:var(--spacing-lg);max-width:1200px;margin:0 auto}.search-form[_ngcontent-%COMP%]{display:flex;gap:var(--spacing-md);align-items:center}.search-field[_ngcontent-%COMP%]{flex:1}.filters[_ngcontent-%COMP%]{margin-top:var(--spacing-md)}.results[_ngcontent-%COMP%]{margin-top:var(--spacing-lg)}.result-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:var(--spacing-md)}"]})};export{Je as ScholarGraphComponent};
